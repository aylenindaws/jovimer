<odoo>
    <data>
	
	

    <record model="ir.ui.view" id="view_recepcionptabletcarga_form">
      <field name="name">view_recepcionptabletcarga_form</field>
      <field name="model">purchase.order.line</field>
	  <field name="priority">100</field>
      <field name="arch" type="xml">
      <form string="Purchase Order Line">
                                    <sheet>
                                        <group>
											<group>
					  <field name="id"/>
					  <label for="expediente"/>
					  <div>
  					  <field name="expediente_serien" string="Exp" readonly="1" class="oe_inline"/>
					  <label for="expediente" string="-" class="oe_inline"/>
					  <field name="expediente" string="Num" readonly="1" class="oe_inline"/>
					  <label for="expediente" string=" " class="oe_inline"/>
					  <field name="partner_id" domain="[('supplier','=',True),('noactivo','!=',True)]"/>
					  </div>
					 
					  <!-- <field name="order_id" string="Pedido Compra"/>
					  <field name="saleorderline" string="Linea Venta que lo pide"/> -->
					  <field name="plantilla" domain="[('noactivo', '!=', True)]" invisible="1"/>
					  <field name="product_id" options="{'no_quick_create': True}" invisible="1"/>
					  <label for="product_id"/>
					  <div>
					  <field name="variedad" class="oe_inline"/>
					  <label for="expediente" string=" " class="oe_inline"/>
					  <field name="calibre" class="oe_inline"/>
					  <label for="expediente" string=" " class="oe_inline"/>
					  <field name="categoria" class="oe_inline"/>
					  <label for="expediente" string=" " class="oe_inline"/>
					  <field name="confeccion" class="oe_inline"/>
					  <label for="expediente" string=" " class="oe_inline"/>
					  <field name="envase" class="oe_inline"/>
					  <field name="marca" invisible="1"/>
					   </div>
					</group>
											<group>
                                                <label for="cantidadpedido"/>
                                                <div>
                                                    <field name="cantidadpedido" widget="integer" class="oe_inline"/>
                                                    <span class="oe_inline"> </span>
                                                    <field name="unidadpedido" class="oe_inline"/>
                                                </div>
                                                <field name="bultos" widget="integer" />
												<field name="totalbultos" widget="integer" />
                                                <field name="kgnetbulto"/>
                                                <field name="product_uom" string="Pago por: " readonly="1"/>
                                                <field name="price_unit" string="Precio" invisible="1"/>
												<field name="discount" invisible="1"/>
												<button string=" [ CARGAR ] " name="action_cargarlinea" class="oe_read_only" type="object"/> 
                                            </group>
                                        </group>
										<footer>
										</footer>
										 </sheet>
										</form>
      </field>
    </record>


	
		   <record model="ir.ui.view" id="view_recepcionptablet_form">
        <field name="name">Recepcion Tablet</field>
        <field name="model">purchase.order</field>
        <field name="priority">100</field>
        <field name="arch" type="xml">

<form string="Purchase Order" delete="false">
                <header>
                  <button name="button_cancel" states="draft,sent,sale,apedido,aalbaran,confirm,purchase" type="object" string="Cancelar Documento" confirm="Esta accion Cancelará el Documento. ¿Estas Seguro?"/>
                  <button name="button_draft" states="cancel" type="object" string="Importar / Volver a Activo" confirm="Esta accion volverá a Activar el Documento. ¿Estas Seguro?"/>
                  <field name="state" widget="statusbar" statusbar_visible="draft,pedido,purchase" readonly="1"/>
    			  <field name="estadodesc" readonly="1"/>
                </header>
                <sheet>
                   <group>
                        <group>
					<label for="expediente_serien" string="Expediente"/>
                    <div>
                            <h2><field name="expediente_serien" class="oe_inline" readonly="1"/>
							<label for="expediente_serien" string=" - "/>
							 <field name="expediente" class="oe_inline"/></h2>
                    </div>
                            <field name="partner_id" context="{'search_default_supplier':1, 'default_supplier':1, 'default_customer':0}" domain="[('supplier','=',True),('noactivo','!=',True)]"/>
                            <field name="partner_ref"/>
                            <field name="paisdestino" options="{'no_create': True}"/>
                            <field name="is_shipped" invisible="1"/>
                     </group>
                     <group>
                            <field name="fechasalida"/>
							<field name="company_id" invisible="1"/>
                            <!-- <field name="origin" attrs="{'invisible': [('origin','=',False)]}"/>
							<field name="destino"/>
							<field name="destinodonde" attrs="{'invisible': [('destino', '=', False)]}"/> -->
                        </group>
                    </group>
                    <notebook>
                        <page string="Products">
                            <field name="order_line" attrs="{'readonly': [('state', 'in', ('done', 'cancel'))]}">
                                 <tree string="Purchase Order Lines">
								  
                                    <!-- 
									<field name="currency_id" invisible="1"/>
                                    
  					                <field name="expediente_serien" string="Exp"/>
					                <field name="expediente" string="Num"/>
                                    <field name="sequence" widget="handle" invisible="1"/>
									<field name="asignado"/>
                                    <field name="viajedirecto" invisible="1"/>
									-->
									<field name="state" invisible="1"/>
                                    <field name="product_id" attrs="{'readonly': [('state', 'in', ('purchase', 'to approve','done', 'cancel'))]}" context="{'partner_id':parent.partner_id, 'quantity':product_qty,'uom':product_uom, 'company_id': parent.company_id}"/>
                                    <field name="name" invisible="1"/>
									<field name="variedad"/>
									<field name="confeccion"/>
									<field name="marca"/>
									<field name="envase"/>
									<field name="bultos" widget="integer"/>
                                    <field name="date_planned" invisible="1"/>
                                    <field name="company_id" groups="base.group_multi_company" options="{'no_create': True}" invisible="1"/>
                                    <field name="account_analytic_id" context="{'default_partner_id':parent.partner_id}" groups="purchase.group_analytic_accounting" invisible="1"/>
                                    <field name="analytic_tag_ids" widget="many2many_tags" options="{'color_field': 'color'}" invisible="1"/>
                                    <field name="product_qty" invisible="1"/>
                                    <field name="qty_received" invisible="1"/>
                                    <field name="qty_invoiced" invisible="1"/>
                                    <field name="product_uom" invisible="1"/>
                                    <field name="cantidadpedido" widget="integer"/>
                                    <field name="unidadpedido"/>									
                                    <field name="price_unit" string="Precio"/>
                                    <field name="product_uom" string="Se paga por"/>
									<field name="discount"/>
									<button name="cargar_tablet" type="object" string="CARGAR"/>
									<!-- <field name="lineaalbarancompra" readonly="1"/>
									<field name="viajerel" readonly="1"/>
                                    <field name="taxes_id" invisible="1" widget="many2many_tags" domain="[('type_tax_use','=','purchase')]" context="{'default_type_tax_use': 'purchase'}" options="{'no_create': True}"/>
                                    <field name="price_subtotal" widget="monetary" invisible="1"/>
									-->
                                </tree>
                                <form>
                                    <sheet>
                                        <group>
											<group>
					  <field name="id" invisible="1"/>
					  <label for="expediente"/>
					  <div>
  					     <field name="expediente_serien" string="Exp" readonly="1" class="oe_inline"/>
					     <field name="expediente" string="Num" readonly="1" class="oe_inline"/>
					     <field name="partner_id" readonly="1" class="oe_inline"/>
					  </div>
					  <field name="order_id" string="Pedido Compra" invisible="1"/>
					  <field name="saleorderline" string="Linea Venta que lo pide" invisible="1"/> 
					  <field name="plantilla" domain="[('noactivo', '!=', True)]" invisible="1"/>
					  <field name="product_id" options="{'no_quick_create': True}" invisible="1"/>
					  <field name="variedad" />
					  <label for="confeccion"/>
					  <div>
						<field name="calibre" class="oe_inline"/> 
						<field name="categoria" class="oe_inline"/> 
						<field name="confeccion"  class="oe_inline"/> 
						<field name="envase" class="oe_inline"/>
					  </div>
					  <field name="marca" invisible="1"/>
					 </group>
											<group>
                                                <label for="cantidadpedido"/>
                                                <div>
                                                    <field name="cantidadpedido" widget="integer" class="oe_inline"/>
                                                    <span class="oe_inline"> </span>
                                                    <field name="unidadpedido" class="oe_inline"/>
                                                </div>
                                                <field name="bultos" widget="integer" />
												<field name="totalbultos" widget="integer" />
                                                <field name="kgnetbulto"/>
                                                <field name="product_uom" string="Pago por: " readonly="1"/>
                                                <field name="price_unit" string="Precio" invisible="1"/>
												<field name="discount" invisible="1"/>
												<button string=" [ CARGAR ] " name="action_cargarlinea" class="oe_read_only" type="object"/> 
                                            </group>
                                        </group>
										<footer>
										</footer>
										 </sheet>
                                </form>
                            </field>

                        </page>

						<page string="Más info">
						<group>
                            <field name="id"/>
							<field name="att"/>
							<field name="pedidocerrado"/>
						    <field name="name" class="oe_inline" readonly="1"/>
							<field name="currency_id"/>
                            <field name="notes" class="oe_inline" placeholder="Notas internas del Pedido ..."/>
							<field name="obspartnersale" class="oe_inline" placeholder="Observaciones del Cliente ..."/>
                            </group>
						</page>

						
                    </notebook>
                </sheet>
                </form>
              </field>
    </record>


	   <record model="ir.ui.view" id="view_recepcionptablet_tree">
        <field name="name">Recepcion Tablet</field>
        <field name="model">purchase.order</field>
        <field name="priority">100</field>
        <field name="arch" type="xml">
				<tree duplicate="false" delete="false" string="Purchase Orders" default_order="id desc" decoration-muted="state=='cancel'">
                    <field name="expediente_serien" string="Exp."/>
                    <field name="expediente" string="Num."/>
                    <field name="expediente_num" string="Exp." invisible="1"/>
                    <field name="name" string="Referencia / Numero"/>
					 <field name="partner_ref"/>
                    <field name="partner_id"/>
					<field name="fechasalida"/>
					<field name="fechallegada"/>
					<field name="is_shipped" invisible="1"/>
                    <field name="state"/>
                    <field name="estadodesc"/>
				</tree>
       </field>
    </record>
	
	   <record model="ir.ui.view" id="view_recepciontablet_tree">
        <field name="name">Recepcion Tablet</field>
        <field name="model">account.invoice.line</field>
        <field name="priority">100</field>
        <field name="arch" type="xml">
	
	<tree editable="top" default_order="id desc" create="false" delete="False">
			        <field name="expediente_serien"/>
					<field name="expediente_origen" string="Origen" attrs="{'readonly': [('cargado','=', True)]}"/>
					<field name="expediente" attrs="{'readonly': [('cargado','=', True)]}"/>
					<field name="fechafact"/>
					<field name="fechallegadanac" readonly="1"/>
					<field name="partner_id"/>
					<button string="[ DESCARGAR ]" class="oe_read_only" name="action_cargarlinea" type="object" attrs="{'invisible': [('cargado','!=', True)]}"/>
					<field name="product_id" invisible="1" readonly="1" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
					<field name="name" invisible="1"/>
					<field name="variedad" readonly="1"/>
					<field name="confeccion" readonly="1"/>
					<field name="marca" readonly="1"/>
					<field name="envase" readonly="1"/>
					<field name="categoria" readonly="1"/>
					<field name="company_id" invisible="1"/>
					<field name="cantidadpedido" widget="integer" attrs="{'readonly': [('cargado','=', True)]}"/>
					<field name="unidadpedido" options="{'no_create': True}" attrs="{'readonly': [('cargado','=', True)]}"/>
					<field name="bultos" widget="integer" string="BxP" readonly="1"/>
					<field name="totalbultos" widget="integer" attrs="{'readonly': [('cargado','=', True)]}"/>
					<field name="totalbultosprev" readonly="1" widget="integer" options="{'bg_color': 'yellow:previstoserror== True'}"/>
					<field name="quantity" attrs="{'readonly': [('cargado','=', True)]}"/>
					<field name="unidabulto" attrs="{'readonly': [('cargado','=', True)]}"/>
					<field name="viajerel" readonly="1"/>
					<button string=" [ CARGAR ] " name="action_cargarlinea" class="oe_read_only" type="object" attrs="{'invisible': ['|',('nocargar','=', True),('cargado','=', True)]}"/> 
					<field name="cargado" readonly="1"/>
					<field name="cargado_por" string="" readonly="1"/>
					<field name="cargado_cuandot" readonly="1" string=""/>
					<field name="nocargar" attrs="{'readonly': [('cargado','=', True)]}"/>
					<field name="kgnetbulto" invisible="1"/>
					<field name="unidadesporbulto" invisible="1"/>
					<field name="uom_id" invisible="1"/>
					<field name="uom_id" invisible="1"/>
					<field name="invoice_id" invisible="1"/>
					<field name="previstoserror" invisible="1"/>
					<field name="price_unit" invisible="1"/>
					<field name="discount" invisible="1"/>
					<field invisible="1" name="invoice_line_tax_ids" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
					<field name="price_subtotal" invisible="1"/>
					<field name="currency_id" invisible="1"/>
					<button string=" XCARGARX " name="action_cargarlineaform" class="oe_read_only" type="object" attrs="{'invisible': ['|',('nocargar','=', True),('cargado','=', True)]}"/> 
					
		</tree>
              </field>
    </record>
	
	

        <record id="action_recepciontablet" model="ir.actions.act_window">
            <field name="name">Jovimer - Recepciones Tablet</field>
            <field name="res_model">account.invoice.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree</field>
            <field eval="False" name="view_id"/>
			<field name="search_view_id" ref="jovimer_recepcionmerc_view_search"/>
            <field name="domain">[('invoice_id.journal_id','=', 9),('asignaroriginal','!=', True)]</field>
            <field name="context">{"search_default_pendientes":1}</field>
						<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('view_recepciontablet_tree')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Recepciones de Mercancia
              </p>
            </field>
        </record>



        <record id="action_recepcionptablet" model="ir.actions.act_window">
            <field name="name">Jovimer - Recepciones Tablet</field>
            <field name="res_model">purchase.order</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
			<!-- <field name="search_view_id" ref="jovimer_recepcionmerc_view_search"/> -->
            <!-- <field name="domain">[('invoice_id.journal_id','=', 9),('asignaroriginal','!=', True)]</field> -->
            <!-- <field name="context">{"search_default_pendientes":1}</field> -->
			<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('view_recepcionptablet_tree')}),
							(0, 0, {'view_mode': 'form', 'view_id': ref('view_recepcionptablet_form')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Recepciones de Mercancia
              </p>
            </field>
        </record>





	
            <menuitem id="menu_jovimertablet" 
              name="Almacen Tablet" 
              parent="menu_jovimertrans"
              web_icon="pyme_jovimer,static/menu/trans.png"
              sequence="500"/>


		 <menuitem name="XERESA"
              id="menu_jovimertablet_xeresa"
              parent="menu_jovimertablet"
			  sequence="1"
			  action="action_recepciontablet"/> 
	

		 <menuitem name="XERESA PEDIDO"
              id="menu_jovimerptablet_xeresa"
              parent="menu_jovimertablet"
			  sequence="1"
			  action="action_recepcionptablet"/> 

	
	
	
	  </data>
</odoo>	