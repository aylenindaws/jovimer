<odoo>
    <data>



<record model="ir.ui.view" id="jovimer_dividiralbaranes_view_tree">
      <field name="name">jovimer_dividiralbaranes_view_tree</field>
      <field name="model">account.invoice.line</field>
      <field name="priority">100</field>
      <field name="arch" type="xml">
        <tree editable="top" default_order="id desc">
			        <field name="expediente_serien" string="Expediente"/>
					<field name="expediente_origen" invisible="1" string="Origen" readonly="1"/>
					<field name="expediente" string="" readonly="1"/>
					<field name="viajerel" readonly="1"/>
					<field name="fechafact" invisible="1"/>
					<field name="fechallegadanac" invisible="1"/>
					<field name="partner_id"/>
					<field name="product_id" invisible="1" readonly="1" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
					<field name="name" invisible="1"/>
					<field name="variedad" readonly="1"/>
					<field name="confeccion" readonly="1"/>
					<field name="marca" readonly="1"/>
					<field name="envase" readonly="1"/>
					<field name="categoria" readonly="1"/>
					<field name="company_id" invisible="1"/>
					<field name="cantidadpedido" readonly="1" widget="integer"/>
					<field name="unidadpedido" readonly="1" options="{'no_create': True}"/>
					<field name="bultos" widget="integer" string="BxP" readonly="1"/>
					<field name="totalbultos" widget="integer" readonly="1"/>
					<field name="totalbultosprev" readonly="1" widget="integer" options="{'bg_color': 'yellow:previstoserror== True'}"/>
					<field name="quantity" readonly="1"/>
					<field name="unidabulto" readonly="1"/>
					<button name="createalbarannuevo" string="Nuevo Albarán" type="object" attrs="{'invisible': [('dividiralbarane','!=', False)]}"/>
					<field name="dividiralbarane" options="{'no_create': True}" domain="[('expediente','=', expediente),('id','!=', invoice_id),('state','=', 'draft')]"/>
					<button name="enviarloalbaran" string="Asignar a Albarán" type="object"  attrs="{'invisible': [('dividiralbarane','=', False)]}"/>
					<field name="kgnetbulto" invisible="1"/>
					<field name="unidadesporbulto" invisible="1"/>
					<field name="uom_id" invisible="1"/>
					<field name="uom_id" invisible="1"/>
					<field name="invoice_id" invisible="1"/>
					<field name="previstoserror" invisible="1"/>
					<field name="price_unit" invisible="1"/>
					<field name="discount" invisible="1"/>
					<field invisible="1" name="invoice_line_tax_ids" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
					<field name="price_subtotal"  invisible="1"/>
					<field name="currency_id" invisible="1"/>

					
		</tree>
      </field>
    </record>



<record model="ir.ui.view" id="jovimer_productos_maestros_pyp_view_search">
      <field name="name">Precios Productos por Pais</field>
      <field name="model">jovimer_productos_maestros_pyp</field>
      <field name="arch" type="xml">  
			<search>
			
			        <field name="name" />
			        <field name="productomaestro" />
                    <field name="periodo" />
                    <group expand="0" string="Group By">
                        <filter string="Pais" name="group_pais" domain="[]" context="{'group_by':'name'}" />
                        <filter string="Periodo" name="group_periodo" domain="[]" context="{'group_by':'periodo'}" />
                        <filter string="Producto" name="group_producto" domain="[]" context="{'group_by':'productomaestro'}" />

						
                    </group>
           </search>
      </field>
    </record>

<record model="ir.ui.view" id="jovimer_productos_maestros_pyp_view_tree">
      <field name="name">Precios Productos por Pais</field>
      <field name="model">jovimer_productos_maestros_pyp</field>
      <field name="arch" type="xml">  
			<tree import="false" default_order='id desc' editable="top">
			
			        <field name="name" readonly="1"/>
			        <field name="productomaestro" readonly="1"/>
                    <field name="periodo" readonly="1"/>
                    <field name="prediomediocompra"/>
                    <field name="prediomedioventa" options="{'bg_color': 'yellow:desvio== True'}"/>
					<field name="prediomedioventag"/>
					<field name="desvio" invisible="1"/>
           </tree>
      </field>
    </record>


<record model="ir.ui.view" id="jovimer_generaalbaranes_view_tree">
      <field name="name">Jovimer - Genera Albaranes</field>
      <field name="model">jovimer_generaalbaranes</field>
      <field name="arch" type="xml">
       <tree>
			<field name="id"/>
			<field name="name"/>
		    <field name="expedientes" widget="many2many_tags"/>			
			<field name="write_date"/>
			<field name="estado" readonly="1"/>
		</tree>
      </field>
    </record>


<record model="ir.ui.view" id="jovimer_generaalbaranes_view_form">
      <field name="name">Jovimer - Genera Albaranes</field>
      <field name="model">jovimer_generaalbaranes</field>
      <field name="arch" type="xml">
       <form>
	   <sheet>
	   <button name="crearalbaranes" string="Crea Albarán" type="object" class="oe_inline"/>
	   <group><group>
				<field name="id"/>
			    <field name="name"/>
				<label for="expedientes"/>
				<div>
				  <field name="expedientes" widget="many2many_tags"  options="{'no_create': True}" class="oe_inline"/>
				  <button name="buscarlineas" string="Importa Lineas" type="object" class="oe_inline"/>
				</div>
			    <field name="observaciones"/>
			</group><group>
			    <field name="estado" readonly="1"/>
				<field name="write_date"/>
			</group></group>
			<group>
			<notebook>
			<page string="Venta" invisible="1">
			<field name="lineasventa">
				  <tree editable="top">
					<field name="product_updatable" invisible="1"/>
                    <field name="expediente_serien" readonly="1"/>
					<field name="expediente" readonly="1"/>
					<field name="partner_id" string="Cliente" readonly="1"/>
					<field name="proveedores" readonly="1"/>
                    <field name="product_id" invisible="1" options="{'no_quick_create': True}"/>
                    <field name="name" invisible="1"/>
                    <field name="plantilla" invisible="1" readonly="1"/>
                    <field name="variedad" readonly="1"/>
                    <field name="marca" readonly="1"/>
                    <field name="envase" readonly="1"/>
                    <field name="bultos" widget="integer" readonly="1"/>
                    <field name="cantidadpedido" widget="integer"  string="C. Venta" readonly="1"/>
                    <field name="paletsc" string="C. Compra" readonly="1"/>
                    <field name="unidadpedido" readonly="1"/>
					<field name="unidabulto" options="{'no_create': True}"/>
                    <field name="product_uom_qty" readonly="1" string="Cantidad Vta"/>
                    <field name="qty_delivered" invisible="1"/>
                    <field name="qty_invoiced" invisible="1"/>
                    <field name="qty_to_invoice" invisible="1"/>
                    <field name="product_uom" string="Unidad Vta"/>
                    <field name="analytic_tag_ids"/>
                    <field name="price_unit" string="Precio"/>
                    <field name="price_subtotal" widget="monetary"/>
                    <field name="price_total" widget="monetary" invisible="1"/>
                    <field name="state" invisible="1"/>
                    <field name="invoice_status" invisible="1"/>
                    <field name="customer_lead" invisible="1"/>
                    <field name="currency_id" invisible="1"/>
					<field name="viajedirecto" invisible="1"/>
					<field name="statusrecla" invisible="1"/>
	         </tree>

			</field>			
			</page>
			<page string="Compra">
			<field name="lineascompra"/>			
			</page>
			</notebook>
			</group>
			<group>

			</group>
			
			</sheet>
		</form>
      </field>
    </record>


<record model="ir.ui.view" id="jovimer_intrastat_view_tree">
      <field name="name">Jovimer - INTRASTAT</field>
      <field name="model">jovimer_intrastat</field>
      <field name="arch" type="xml">
       <tree  editable="top">
			<field name="id"/>
			<field name="name" required="1"/>
			<field name="fechaini" required="1"/>
            <field name="fechafin" required="1" />
			<field name="estado" readonly="1"/>
			<button type="object" name="creaintrastat"  string="Calcular"  attrs="{'invisible': [('name', '=', False),('fechaini', '=', False),('fechafin', '=', False)]}"/>

		</tree>
      </field>
    </record>


<record model="ir.ui.view" id="jovimer_albcli_devolu_view_tree">
      <field name="name">Jovimer - Devoluciones</field>
      <field name="model">jovimer_devalbaranv</field>
      <field name="arch" type="xml">
      <tree>
	   

			<field name="almacen"/>
			<field name="expediente" readonly="1"/>
            <field name="cantidad" widget="integer" />
			<field name="product_id" readonly="1"/>
			<field name="fecha"/>
			<field name="proveedorrel" readonly="1"/>
			<field name="partner" readonly="1"/>
			<field name="name" readonly="1" string="LINEA"/>
			<field name="documentodestino"/>			

	  </tree>
      </field>
    </record>


<record model="ir.ui.view" id="jovimer_albcli_devolu_view_form">
      <field name="name">Jovimer - Devoluciones</field>
      <field name="model">jovimer_devalbaranv</field>
      <field name="arch" type="xml">
      <form>

       <sheet>
	  <div class="alert alert-info" role="alert" style="height: 40px;margin-bottom:0px;" attrs="{'invisible': [('confirmado','=',True)]}">
          <center><bold><h2>ESTAS REALIZANDO UNA DEVOLUCION DE ALBARAN DE VENTA</h2></bold></center>
      </div>
	   <group>
	   <group string="Origen">

			<field name="name" readonly="1" string="LINEA ALBARAN ORIGEN"/>
            <label for="expediente"/>
            <div>
			<field name="expediente_serien" readonly="1" class="oe_inline"/>
			<label for="expediente_serien" string=" - " class="oe_inline"/>       
			<field name="expediente" readonly="1" class="oe_inline"/>
			</div>
			<field name="partner" readonly="1"/>
			<field name="plantilla" readonly="1"/>
            <label for="variedad" string="Producto / Confeccion"/>
            <div>
			<field name="variedad" readonly="1" class="oe_inline"/>
			<label for="confeccion" string=" / " class="oe_inline"/> 
			<field name="confeccion" readonly="1" class="oe_inline"/>
			</div>
			<field name="proveedorrel" readonly="1"/>
			<field name="confirmado" invisible="1"/>
	   </group>
	   
	   </group>
	   </sheet>
	   <footer>
       <button type="object" string="Guarda y Cierra" name="devuelvealbaranventa" attrs="{'invisible': [('confirmado', '=', True)]}"/>
	   </footer>

	  </form>
      </field>
    </record>




<record model="ir.ui.view" id="jovimer_trasoasoconta_view_search">
      <field name="name">JOVIMER - Buscador Traspasos Contables</field>
      <field name="model">jovimer_traspasoconta</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
			<search string="Search Invoice">
                    <field name="fecha"/>
                    <field name="name" />
		

            </search>
      </field>
    </record>



<record model="ir.ui.view" id="jovimer_linpedcomprep_view_search">
      <field name="name">JOVIMER - Buscador Lineas para Compra</field>
      <field name="model">purchase.order.line</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
	  
	  
	  <search string="Buscador">
<field name="expediente" string="Expediente" context="{'active_test': False}" filter_domain="['|',('expediente','=',self),('expedienteo','=',self)]"/>
                    
                    <field name="partner_id" operator="child_of" string="Proveedor"/>
					<separator/>
					<filter name="lineafacturacomprap" string="Pendientes de Facturar" domain="[('lineafacturacompra','=', False)]"/>
                    <separator/>
                    <group expand="0" string="Group By">
                        <filter string="Expediente" name="expediente" context="{'group_by':'expediente'}"/>
                        <filter name="partner" string="Proveedor" context="{'group_by':'partner_id'}"/>
                        <separator/>
                    </group>
               </search>

      </field>
    </record>



<record model="ir.ui.view" id="jovimer_almacen_linalb_search">
      <field name="name">JOVIMER - Movimientos de Almacén</field>
      <field name="model">account.invoice.line</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
          <search string="Search Invoice">
	                <field name="expediente" string="Expediente" context="{'active_test': False}" filter_domain="[('expediente','=',self)]"/>
	                <field name="expediente" string="Cliente Final" context="{'active_test': False}" filter_domain="[('expediente.cliente','ilike',self)]"/>
                    <field name="partner_id" operator="child_of" string="Empresa que lo Genera"/>
					<field name="invoice_id" operator="child_of" string="Documento al que pertenece"/>
					<field name="fechaalmacen"/>
					<field name="tipomovalmacen"/>
					<field name="productomaestro"/>
				    <field name="plantilla" />
				    <field name="variedad" />
				    <field name="confeccion" />
                    <group expand="0" string="Group By">
                        <filter name="group_by_partner_id" string="Cliente" context="{'group_by':'partner_id'}"/>
						<filter name="pais" string="Pais" context="{'group_by':'paislins'}"/>
						<filter name="plantilla" string="Plantilla de Producto" context="{'group_by':'plantilla'}"/>
						<filter name="variedad" string="Variedad" context="{'group_by':'variedad'}"/>
						<filter name="confeccion" string="Confección" context="{'group_by':'confeccion'}"/>
						<filter name="productomaestro" string="Producto Mestro" context="{'group_by':'productomaestro'}"/>
                        <filter string="Expediente" name="expegr" context="{'group_by':'expediente'}"/>
                        <filter string="Tipo Movimiento" name="group_tipomov" context="{'group_by':'tipomovalmacen'}"/>
						<filter string="Fecha Movimiento" name="group_fechaalmacen" context="{'group_by':'fechaalmacen'}"/>
                    </group>
               </search>

      </field>
    </record>

<record model="ir.ui.view" id="jovimer_almacen_linalb_tree">
      <field name="name">JOVIMER - Movimientos de Almacén</field>
      <field name="model">account.invoice.line</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<tree editable="top" create="false" delete="false" default_order="id desc">
				<field name="fechaalmacen" string="Fecha Documento"/>
				<field name="sequence" widget="handle" invisible="1"/>
				<field name="tipomovalmacen" readonly="1"/>
				<field name="asignaroriginal" invisible="1"/>
				<field name="expediente_serien" readonly="1" string=""/>
				<field name="expediente" readonly="1" string="Destino" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
				<field name="product_id" readonly="1" invisible="1" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
				<field name="name" readonly="1" invisible="1"/>
				<field name="plantilla" readonly="1" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
				<field name="variedad" readonly="1" string="Producto / Variedad" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
				<field name="confeccion" readonly="1" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
				<field name="calibre" readonly="1" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
				<field name="marca" readonly="1" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
				<field name="envase" readonly="1" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
				<field name="categoria" readonly="1" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
				<field name="cantidadpedido" readonly="1" widget="integer" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
				<field name="unidadpedido" readonly="1" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
				<field name="cantidadalmacencajas" readonly="1"/>
				<field name="cantidadalmacenkg" readonly="1"/>
				<field name="precioalmacenkg" readonly="1"/>	
		</tree>
      </field>
    </record>

<record model="ir.ui.view" id="jovimer_linpedcomprep_view_tree">
      <field name="name">JOVIMER - Facturar Lineas para Compra</field>
      <field name="model">purchase.order.line</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<tree editable="top" default_order="id desc">

			<field name="id" invisible="1"/>
			<field name="pedidocerrado"/>
			<field name="lineafacturacompra"/>
			<field name="lineaalbarancompra"/>
			<field name="expediente_serien" string="Exp" readonly="1"/>
			<field name="expediente" string="Destino" readonly="1"/>
            <field name="asignado"/>
			<field name="expediente_serieo" string="Exp" readonly="1" attrs="{'invisible': [('asignado', '!=', True)]}"/>
			<field name="expedienteo" string="Origen" readonly="1" attrs="{'invisible': [('asignado', '!=', True)]}"/>
			<field name="fechasalida" readonly="1"/>
			<field name="partner_id" readonly="1"/>
			<field name="name" readonly="1"/>
			<field name="cantidadpedido" widget="integer"  readonly="1"/>
			<field name="cantidadasignada" widget="integer"  readonly="1"/>
			<field name="unidadpedido"  options="{'no_create': True, 'no_create_edit':True}" readonly="1"/>
			<field name="bultos" widget="integer"  readonly="1"/>
			<field name="envase" readonly="1"/>
			<field name="marca" readonly="1"/>
			<field name="confeccion" readonly="1"/>
			<field name="variedad" readonly="1"/>
			<field name="price_unit" readonly="1"/>
			<field name="product_uom" readonly="1"/>
			<field name="order_id" string="Pedido COmpleto" readonly="1"/>


		</tree>
      </field>
    </record>

<!--  Abonos de Cliente -->
<record model="ir.ui.view" id="jovimer_abonocliente_view_search">
      <field name="name">JOVIMER - Buscador Traspasos Contables</field>
      <field name="model">jovimer_abonocliente</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
			<search string="Search Invoice">
				<field name="fecha"/>
				<field name="name"/>
				<field name="fecharect"/>
				<field name="facturaresultante"/>
            </search>
      </field>
    </record>


	<record model="ir.ui.view" id="jovimer_abonocliente_view_tree">
      <field name="name">JOVIMER - Traspaso Contable</field>
      <field name="model">jovimer_abonocliente</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<tree default_order="id desc">
			<field name="fecha"/>
			<field name="name"/>
			<field name="fecharect"/>
			<field name="facturaresultante"/>
		</tree>
      </field>
    </record>




	<record model="ir.ui.view" id="jovimer_abonocliente_view_form">
      <field name="name">JOVIMER - Traspaso Contable</field>
      <field name="model">jovimer_abonocliente</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<form>
		<header>
		<button string="Genera Factura de Abono" name="creafacturaabono" type="object" class="oe_highlight"/>
		</header>
			<group><group>
			<field name="id"/>
			<field name="fecha"/>
			<field name="name" options="{'no_create': True}"/>
			</group><group>
			<field name="fecharect"/>
			<field name="facturaresultante" options="{'no_create': True}" domain="[('partner_id', '=', name)]"/>

			</group></group>
			<group>
			<field name="facturas" domain="[('partner_id', '=', name)]">

			</field>
			</group>

			

		</form>
      </field>
    </record>
	
	
	<!-- FIN Abonos  -->



	<record model="ir.ui.view" id="jovimer_trasoasocontacyp_view_tree">
      <field name="name">JOVIMER - Traspaso Contable</field>
      <field name="model">jovimer_traspasocyp</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<tree default_order="id desc">
			<field name="id"/>
			<field name="tipotraspaso"/>
			<field name="name"/>
			<field name="fecha"/>
			<field name="generadiario"/>
		</tree>
      </field>
    </record>




	<record model="ir.ui.view" id="jovimer_trasoasocontacyp_view_form">
      <field name="name">JOVIMER - Traspaso Contable</field>
      <field name="model">jovimer_traspasocyp</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<form>
			<group><group>
			<field name="id"/>
			<field name="name"/>
			<field name="fecha"/>
			</group><group>
			<field name="tipotraspaso" readonly="1"/>
			<field name="generadiario"/>
			</group></group>
			<group>
			<field name="pagos" domain="[('traspasado','=',False),('state', '=', 'posted')]">
                   <tree  edit="false">
                    <field name="payment_date"/>
                    <field name="name"/>
                    <field name="journal_id"/>
                    <field name="payment_method_id" invisible="1"/>
                    <field name="partner_id" string="Customer"/>
                    <field name="amount" sum="Amount" string="Cantidad"/>
                    <field name="state" invisible="1"/>
                    <field name="company_id" groups="base.group_multi_company"/>
                    <field name="currency_id" invisible="1"/>
                    <field name="partner_type" invisible="1"/>
                </tree>
			</field>
			</group>
			<footer>
			<button string="Genera Traspaso Contable" name="creatrasoasocontable" type="object" class="oe_highlight"/>
</footer>
		</form>
      </field>
    </record>


	<record model="ir.ui.view" id="jovimer_trasoasoconta_view_tree">
      <field name="name">JOVIMER - Traspaso Contable</field>
      <field name="model">jovimer_traspasoconta</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<tree default_order="id desc">
			<field name="id"/>
			<field name="tipotraspaso"/>
			<field name="name"/>
			<field name="fecha"/>
			<field name="generaiva"/>
			<field name="generadiario"/>
		</tree>
      </field>
    </record>




	<record model="ir.ui.view" id="jovimer_trasoasoconta_view_form">
      <field name="name">JOVIMER - Traspaso Contable</field>
      <field name="model">jovimer_traspasoconta</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<form>
			<group><group>
			<field name="id"/>
			<field name="name"/>
			<field name="fecha"/>
			</group><group>
			<field name="tipotraspaso" readonly="1"/>
			<field name="generaiva"/>
			<field name="generadiario"/>
			</group></group>
			<group>
			<field name="facturas">
				<tree>
				<field name="expediente_serien"/>
				<field name="expediente"/>
				<field name="number"/>
				<field name="journal_id"/>
				<field name="date_invoice"/>
				<field name="partner_id"  options="{'no_quick_create': True}"/>
				<field name="amount_total"/>

				</tree>
			</field>
			</group>
			<footer>
			<button string="Genera Traspaso Contable" name="creatrasoasocontable" type="object" class="oe_highlight"/>
</footer>
		</form>
      </field>
    </record>
	
	<record model="ir.ui.view" id="jovimer_trasoasocontac_view_form">
      <field name="name">JOVIMER - Traspaso Contable</field>
      <field name="model">jovimer_traspasoconta</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<form>
			<group><group>
			<field name="id"/>
			<field name="name"/>
			<field name="fecha" required="1"/>
			</group><group>
			<field name="tipotraspaso" readonly="1"/>
			<field name="id"/>
			<field name="generaiva" invisible="1"/>
			<field name="generadiario" invisible="1"/>
			</group></group>
            <group><group><button name="abrirfacturas" string="Abrir Facturas Proveedor" type="object" class="oe_highlight"/></group></group>
			<group string="Facturas Afectadas">
			</group>
			<field name="facturas" nolabel="1">
				<tree>
				 <field name="reference"/>
				 <field name="number"/>
				 <field name="dateinv_compra"/>
				 <field name="date_invoice" string="Fecha Contable"/>
				 <field name="partner_id"  options="{'no_quick_create': True}"/>
				 <field name="amount_total"/>
				 <field name="modologocontatrans"/>
				  <field name="modologocontatranssiniva"/>
				 <field name="modologocontasujpa"/>
				 <field name="modologocontamerca"/>
				 <field name="tax_line_ids" widget="many2many_tags"/>
				</tree>
			</field>
			<footer>
			   <button string="Genera Traspaso Contable Recibidas" name="creatrasoasocontablec" type="object" class="oe_highlight"/>
			</footer>
		</form>
      </field>
    </record>

<record model="ir.ui.view" id="jovimer_facturas_trans_view_search">
      <field name="name">JOVIMER - Buscador Facturas Transporte</field>
      <field name="model">account.invoice</field>
      <field name="priority">1</field>
      <field name="arch" type="xml">
      <search string="Search Invoice">
                    <field name="number" string="Invoice" context="{'active_test': False}" filter_domain="['|','|','|', ('number','ilike',self), ('origin','ilike',self), ('reference', 'ilike', self), ('partner_id', 'child_of', self)]"/>
                    <separator/>
                    <field name="partner_id" operator="child_of" string="Transportista"/>
                    <field name="date_invoice" string="Fecha Contable"/>
					<field name="dateinv_compra" string="Fecha Factura"/>
                    <separator/>
                    <group expand="0" string="Group By">
                        <filter name="group_by_partner_id" string="Partner" context="{'group_by':'commercial_partner_id'}"/>
                        <filter invisible="1" string="Salesperson" name="salesperson" context="{'group_by':'user_id'}"/>
                        <filter invisible="1" name="status" string="Status" context="{'group_by':'state'}"/>
                        <separator/>
                        <filter string="Fecha Factura" name="invoicedate" context="{'group_by':'date_invoice'}"/>
                        <filter invisible="1" string="Due Date" name="duedate" context="{'group_by':'date_due'}"/>
                    </group>
               </search>


      </field>
    </record>


	
	
<record model="ir.ui.view" id="jovimer_facturaspymev_view_search">
      <field name="name">JOVIMER - Buscador Facturas Cliente</field>
      <field name="model">account.invoice</field>
      <field name="priority">1</field>
      <field name="arch" type="xml">
      <search string="Search Invoice">
                    
					<field name="expediente" string="Expediente" context="{'active_test': False}" filter_domain="[('expediente','=',self)]"/>
					
					
                    <field name="number" string="Fact NUM:" context="{'active_test': False}" filter_domain="['|','|','|', ('number','ilike',self), ('origin','ilike',self), ('reference', 'ilike', self), ('partner_id', 'child_of', self)]"/>
					<field name="fechafacturapago" string="Fecha Factura"/>
					<field name="numfactnorm"/>
					<field name="date_invoice" string="Fecha Desde" filter_domain="[('fechafacturapago','&gt;=',self)]"/>
					<field name="date_invoice" string="Fecha Hasta" filter_domain="[('fechafacturapago','&lt;=',self)]"/>
					
                    <field name="partner_id" operator="child_of"/>
					<field name="invoice_line_ids" string="Variedad" filter_domain="[('invoice_line_ids.variedad', 'ilike', self)]"/>
					<field name="invoice_line_ids" string="Variedad en Almacén" filter_domain="[('invoice_line_ids.variedad', 'ilike', self),('invoice_line_ids.lineacompracalidadpartner', 'ilike', 'JOVIMER ALMACEN')]"/>
                    <field name="invoice_line_ids" string="Producto" filter_domain="[('invoice_line_ids.product_id', 'ilike', self)]"/>
					<field name="invoice_line_ids" string="Proveedor Linea" filter_domain="[('invoice_line_ids.lineacompracalidadpartner', 'ilike', self)]"/>





					
					 <separator/>
					 <filter domain="[('pagadopy', '=' , True)]" string="Con Pagos" name="pagos" />
					 <filter domain="[('albaranfacturado', '=' , False),('partner_id', 'not in' , [6132,5663,5670,5665,5666,5667,5981])]" string="Albarán Sin Facturar" name="sinfact" />
					 <filter domain="[('albaranfacturado', '!=' , False)]" string="Albarán Facturado" name="confact" />
					 <filter domain="[('traspasocontfecha','=', False),('state','not in',['cancel', 'draft']),('journal_id', 'in', [1,11,12,13,14,15,19,20,21,22,23,24,35,36,37,38,39,40,41,43,44])]" string="Pendiente Traspaso EMITIDAS" name="traspasocont" help="Pendiente de Traspaso a Contabilidad"/>
					 <filter domain="[('traspasocontfecha','=', False),('state','not in',['cancel', 'draft']),('journal_id', 'in', [16,17,18])]" string="Pendiente Traspaso RECIBIDAS" name="traspasocont2" help="Pendiente de Traspaso a Contabilidad"/>
    			
                    <separator/>
					  <filter domain="[('traspasocontfecha','=', False),('state','not in',['cancel', 'draft'])]" string="Pendiente" name="traspasocont" help="Pendiente de Traspaso a Contabilidad"/>         			 
					  <filter domain="[('journal_id', 'in', [11,12,13,14,15,19,1,24,23,35,36,37,38,39,40,41,43,44])]" string="EMITIDAS" name="traspasocont" help="Pendiente de Traspaso a Contabilidad"/>
					  <filter domain="[('journal_id', 'in', [16,17,18])]" string="RECIBIDAS" name="traspasocont" help="Pendiente de Traspaso a Contabilidad"/>
					  
					 <separator/>
					  <filter name="factpagadas" string="Pagadas" domain="[('bloqueapago','=', True)]"/>
					  <filter name="nofactpagadas" string="Pendientes Pago" domain="[('bloqueapago','=', False)]"/>
					 <separator/>
	                <group expand="0" string="Group By">
                        <filter name="group_by_partner_id" string="Partner" context="{'group_by':'commercial_partner_id'}"/>
                        <filter string="Salesperson" name="salesperson" context="{'group_by':'user_id'}"/>
                        <filter name="status" string="Status" context="{'group_by':'state'}"/>
                        <separator/>
                        <filter string="Fecha Factura" name="invoicedate" context="{'group_by':'fechafacturapago'}"/>
                        <!-- <filter string="Due Date" name="duedate" context="{'group_by':'date_due'}"/> -->
                    </group>
               </search>

      </field>
    </record>


<record model="ir.ui.view" id="jovimer_facturaspymec_view_search">
      <field name="name">JOVIMER - Buscador Facturas Proveedores</field>
      <field name="model">account.invoice</field>
      <field name="priority">1</field>
      <field name="arch" type="xml">
      <search string="Search Invoice">
	  
	               <field name="expedientesdecompra" string="Expediente" context="{'active_test': False}" filter_domain="['|',('expedientesdecompra','=',self),('invoice_line_ids.expediente','=',self)]"/>
	    <field name="reference" string="Referencia Proveedor"/>
                    
                     <field name="partner_id" operator="child_of" string="Proveedor"/>
                     <field name="date_invoice" string="Fecha Documento FACT/ALB"/>
					 <field name="reference" string="Referencia Proveedor"/>
					 <field name="number" string="Ref Interna" context="{'active_test': False}" filter_domain="['|','|','|', ('number','ilike',self), ('origin','ilike',self), ('reference', 'ilike', self), ('partner_id', 'child_of', self)]"/> 
					 <field name="expedientesdecompra" string="Expediente Contiene ... "/>
                     <field name="invoice_line_ids" string="Variedad" filter_domain="[('invoice_line_ids.variedad', 'ilike', self)]"/>
                     <field name="invoice_line_ids" string="Producto" filter_domain="[('invoice_line_ids.product_id', 'ilike', self)]"/>					 
                    <separator/>
                     <filter domain="[('pagadopy', '=' , True)]" string="Con Pagos" name="pagos" />
					 <filter invisible="1" domain="[('user_id','=',uid)]" string="Facturas Hechas por mi" name="myinvoices" help="My Invoices"/>
					 <filter domain="[('traspasocontfecha','=',False),('state','in',['open', 'paid'])]" string="Pendiente de Traspaso a Contabilidad" name="traspasocont" help="Pendiente de Traspaso a Contabilidad"/>
					 <filter domain="[('restobultosasignado', '&lt;' , 0)]" string="Resto Bultos Negativo" name="restonega" />
					 <filter domain="[('restobultosmal', '=' , True)]" string="Lineas Rojas BULTOS MAL" name="linearoja" />

                    <separator/>
                    <group expand="0" string="Group By">
                        <filter name="group_by_partner_id" string="Proveedot" context="{'group_by':'commercial_partner_id'}"/>
                        <filter invisible="1" string="Salesperson" name="salesperson" context="{'group_by':'user_id'}"/>
                        <filter invisible="1" name="status" string="Status" context="{'group_by':'state'}"/>
                        <separator/>
                        <filter string="Fecha Documento ALB/FACT" name="invoicedate" context="{'group_by':'date_invoice'}"/>
                        <filter invisible="1" string="Due Date" name="duedate" context="{'group_by':'date_due'}"/>
                    </group>
      </search>

      </field>
    </record>




<record model="ir.ui.view" id="jovimer_valoracionesv_view_search">
      <field name="name">JOVIMER - Buscador Lineas </field>
      <field name="model">account.invoice.line</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
      <search string="Search Invoice">
	  
	  
	  <field name="expediente" string="Expediente" context="{'active_test': False}" filter_domain="[('expediente','=',self)]"/>
                   
                    <field name="partner_id" operator="child_of" string="Cliente"/>
					
					<field name="invoice_id" operator="child_of" string="Factura"/>
					<field name="refcliente" string="Referencia Cliente"/>
					<field name="fechafact"  operator="child_of"/>
					<filter name="Facturadod" string="Albaranes Realizados" domain="[('invoice_id.number', 'like', 'ENV')]"/>
					 <field name="expediente" string="Expediente Contiene ..."/>
                    <group expand="0" string="Group By">
                        <filter name="group_by_partner_id" string="Cliente" context="{'group_by':'partner_id'}"/>
						<filter name="pais" string="Pais" context="{'group_by':'paislins'}"/>
						<filter name="productomaestro" string="Producto Mestro" context="{'group_by':'productomaestro'}"/>
                        <filter string="Expediente" name="expegr" context="{'group_by':'expediente'}"/>
                    </group>
               </search>

      </field>
    </record>




<record model="ir.ui.view" id="jovimer_valoracionesc_view_search">
      <field name="name">JOVIMER - Buscador Lineas </field>
      <field name="model">account.invoice.line</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
      <search string="Search Invoice">
	  
	  
	  <field name="expediente" string="Expediente" context="{'active_test': False}" filter_domain="['|',('expediente','=',self),('expediente_origen','=',self)]"/>
                   
                    <field name="partner_id" operator="child_of" string="Cliente"/>
					
					<field name="invoice_id" operator="child_of" string="Factura"/>
					<field name="refcliente" string="Referencia Cliente"/>
					<field name="fechafact"  operator="child_of"/>
					<field name="plantilla"/>

					 <field name="expediente" string="Expediente Destino Contiene ..."/>
                    <group expand="0" string="Group By">
                        <filter name="group_by_partner_id" string="Cliente" context="{'group_by':'partner_id'}"/>
						<filter name="pais" string="Pais" context="{'group_by':'paislins'}"/>
						<filter name="productomaestro" string="Producto Mestro" context="{'group_by':'productomaestro'}"/>
                        <filter string="Expediente" name="expegr" context="{'group_by':'expediente'}"/>
                    </group>
               </search>

      </field>
    </record>



<record model="ir.ui.view" id="jovimer_searchlinvtai_view_search">
      <field name="name">JOVIMER - Buscador Lineas de Venta Intrastat</field>
      <field name="model">account.invoice.line</field>
      <field name="priority">100</field>
      <field name="arch" type="xml">
           <search string="Search Invoice">
	  
	  
	  <field name="expediente" string="Expediente" context="{'active_test': False}" filter_domain="[('expediente','=',self)]"/>
	   <field name="expediente" string="Origen" context="{'active_test': False}" filter_domain="[('expediente_origen','=',self)]"/>
                   <field name="productomaestro" string="Producto Maestro" />
				   <field name="paislins" string="País" />



					 <separator/>
                     <filter name="lineafacturaventap" string="Lineas Rosas" domain="[('asignaroriginal','=', True)]"/>
					 <filter name="lineafacturaventap" string="Pendientes de Facturar" domain="[('albvtadestino','=', False),('fechafact','!=', False)]"/>
					 
					 <filter name="oct2021" string="Octubre 2021" domain="[('fechafact2','&gt;=','2021-10-01'),('fechafact2','&lt;=','2021-10-31')]"/>

					 <filter name="nov2021" string="Noviembre 2021" domain="[('fechafact2','&gt;=','2021-11-01'),('fechafact2','&lt;=','2021-11-30')]"/>
					 <filter name="dic2021" string="Diciembre 2021" domain="[('fechafact2','&gt;=','2021-12-01'),('fechafact2','&lt;=','2021-12-31')]"/>

					 
                    <group expand="0" string="Group By">
                        <filter name="group_by_partner_id" string="Cliente" context="{'group_by':'partner_id'}"/>
                        <filter string="Expediente" name="expegr" context="{'group_by':'expediente'}"/>
						<filter string="Producto Maestro" name="prodma" context="{'group_by':'productomaestro'}"/>
						<filter string="Pais" name="pais" context="{'group_by':'paislins'}"/>
						<filter string="Fecha Documento" name="fechafact2" context="{'group_by':'fechafact2'}"/>
                    </group>
               </search>

      </field>
    </record>



<record model="ir.ui.view" id="jovimer_lineas_facturadas_view_search">
      <field name="name">JOVIMER - Buscador Lineas </field>
      <field name="model">account.invoice.line</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
           <search string="Search Invoice">
	  
	  
	  <field name="expediente" string="Expediente" context="{'active_test': False}" filter_domain="[('expediente','=',self)]"/>
	   <!-- <field name="expediente" string="Origen" context="{'active_test': False}" filter_domain="[('expediente_origen','=',self)]"/> -->
      <field name="invoice_id" string="Factura a la que pertenece"/>
	  <field name="refcliente" string="Num/Ref de Factura"/>
      <field name="partner_id" string="Empresa" /> 
	   <field name="lineacompracalidadpartner" string="Almacén" /> 
      <field name="variedad" string="Variedad" /> 
	  <field name="product_id" string="Producto" /> 
	  <field name="productomaestro" string="Producto Maestro" /> 
	  <field name="paislins" string="Pais" /> 
      <field name="confeccion"/> 
	  <field name="marca" string="Marca" /> 
	  <field name="envase" string="Envase" /> 
      <filter name="enlamacen" string="JOVIMER ALMACEN" domain="[('lineacompracalidadpartner', 'ilike', 'JOVIMER ALMACEN')]"/>
	   <filter name="epscart" string="EPS" domain="[('envase', 'ilike', 'EPS')]"/>
      				 <separator/>
                     <filter name="lineafacturaventap" string="Lineas Rosas" domain="[('asignaroriginal','=', True)]"/>
					 <filter name="lineafacturaventap" string="Pendientes de Facturar" domain="[('albvtadestino','=', False),('fechafact','!=', False)]"/>
                    <group expand="0" string="Group By">
                        <filter name="group_by_lineacompracalidadpartner" string="Almacén" context="{'group_by':'lineacompracalidadpartner'}"/>
						<filter name="group_by_partner_id" string="Empresa" context="{'group_by':'partner_id'}"/>
						<filter name="group_by_plantilla" string="Plantilla Producto" context="{'group_by':'plantilla'}"/>
						<filter name="group_by_prodmaestro" string="Prodcuto Maestro" context="{'group_by':'productomaestro'}"/>
						<filter name="group_by_variedad" string="Variedad" context="{'group_by':'variedad'}"/>
						<filter name="group_by_confeccion" string="Prodcuto Maestro" context="{'group_by':'confeccion'}"/>
						<filter name="group_by_invoice" string="Factura a la que Pertenece" context="{'group_by':'invoice_id'}"/>
                        <filter string="Expediente" name="expegr" context="{'group_by':'expediente'}"/>
                    </group>
               </search>

      </field>
    </record>

<record model="ir.ui.view" id="jovimer_searchlinvta_view_search">
      <field name="name">JOVIMER - Buscador Lineas de Venta</field>
      <field name="model">account.invoice.line</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
           <search string="Search Invoice">
	  
	  
	  <field name="expediente" string="Expediente" context="{'active_test': False}" filter_domain="[('expediente','=',self)]"/>
	   <field name="expediente" string="Origen" context="{'active_test': False}" filter_domain="[('expediente_origen','=',self)]"/>
                   



					 <separator/>
                     <filter name="lineafacturaventap" string="Lineas Rosas" domain="[('asignaroriginal','=', True)]"/>
					 <filter name="lineafacturaventap" string="Pendientes de Facturar" domain="[('albvtadestino','=', False),('fechafact','!=', False)]"/>
                    <group expand="0" string="Group By">
                        <filter name="group_by_partner_id" string="Cliente" context="{'group_by':'partner_id'}"/>
                        <filter string="Expediente" name="expegr" context="{'group_by':'expediente'}"/>
                    </group>
               </search>

      </field>
    </record>


<record model="ir.ui.view" id="jovimer_linalbcomprep_view_tree">
      <field name="name">JOVIMER - Facturar Lineas para Venta</field>
      <field name="model">account.invoice.line</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<tree default_order="id desc" editable="top" duplicate="true">
					<field name="id" invisible="1"/>
					<field name="asignaroriginal"/>
					<field name="expediente_origen" string="Origen" readonly="1"/>
					<field name="albvtadestino"/>
					<field name="albvtadestinolin"/>
					<field name="expediente_serien"/>
					<field name="expediente"/>
					<field name="fechafact"/>
					<field name="totalbultos" widget="integer" />
					<field name="product_id" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
					<field name="name" invisible="1"/>
					<field name="partner_id"/>
					<field name="invoice_id" invisible="1"/>
					<field name="refcliente" string="Referencia"/>
					<field name="confeccion"/>
					<field name="variedad"/>
					<field name="marca"/>
					<field name="envase"/>
					<field name="categoria"/>
					<field name="company_id" invisible="1"/>
					<field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
					<field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
					<field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
					<field name="cantidadpedido" widget="integer" />
					<field name="unidadpedido"/>
					<field name="bultos" widget="integer" />
					<field name="quantity" sum="Total"/>
					<field name="uom_id" invisible="1"/>
					<field name="unidabulto"/>
					<field name="price_unit"/>
					<field name="preciomediaintra" avg="Average"/>
					<field name="totalkglin" sum="Total"/>
					<field name="discount" groups="base.group_no_one"/>
					<field invisible="1" name="invoice_line_tax_ids" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
					<field name="price_subtotal"/>
					<field name="currency_id" invisible="1"/>
          </tree>
      </field>
    </record>



<record model="ir.ui.view" id="jovimer_lineas_facturadas_view_tree">
      <field name="name">JOVIMER - Lineas de Venta / Compra</field>
      <field name="model">account.invoice.line</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<tree default_order="id desc" editable="top" duplicate="true">
					<field name="id" invisible="1"/>
					<field name="invoice_id"/>
					<field name="asignaroriginal" invisible="1"/>
					<field name="expediente_origen" string="Origen" invisible="1"/>
					<field name="albvtadestino" invisible="1"/>
					<field name="albvtadestinolin" invisible="1"/>
					<field name="expediente_serien"/>
					<field name="expediente"/>
					<field name="fechafact"/>
					<field name="refcliente" string="Referencia"/>
					<field name="name" invisible="1"/>
					<field name="partner_id"/>
					<field name="lineacompracalidadpartner" string="Almacén"/>
					<field name="product_id"/>
					<field name="confeccion"/>
					<field name="variedad"/>
					<field name="marca"/>
					<field name="envase"/>
					<field name="categoria"/>
					<field name="company_id" invisible="1"/>
					<field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
					<field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
					<field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
					<field name="cantidadpedido" widget="integer" />
					<field name="unidadpedido"/>
					<field name="bultos" widget="integer" />
					<field name="totalbultos" widget="integer" />
					<field name="quantity" sum="Total"/>
					<field name="uom_id" invisible="1"/>
					<field name="unidabulto"/>
					<field name="price_unit"/>
					<field name="preciomediaintra" invisible="1"/>
					<field name="totalkglin" sum="Total"/>
					<field name="precioenkg"/>
					<field name="discount" groups="base.group_no_one"/>
					<field invisible="1" name="invoice_line_tax_ids" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
					<field name="price_subtotal"/>
					<field name="currency_id" invisible="1"/>
          </tree>
      </field>
    </record>




<record model="ir.ui.view" id="jovimer_facturas_prova_view_tree">
      <field name="name">Jovimer - Albaranes Proveedor</field>
      <field name="model">account.invoice</field>
      <field name="arch" type="xml">
      <tree decoration-info="state == 'draft'" decoration-muted="state == 'cancel'" decoration-bf="not partner_id" string="Vendor Bill" js_class="account_bills_tree" default_order="id desc">
					<field name="expediente_serien"  options="{'fg_color': 'red:restobultosmal== True'}" />
					<field name="expedientesdecompra" widget="many2many_tags" options="{'fg_color': 'red:restobultosmal== True'}"/>
					<field name="expediente_serie" invisible="1" options="{'fg_color': 'red:restobultosmal== True'}"/>
					<field name="expediente" invisible="1" options="{'fg_color': 'red:restobultosmal== True'}"/>
					<field invisible="1" name="expediente_serien" string="Exp" options="{'fg_color': 'red:restobultosmal== True'}"/>
					<field invisible="1" name="expediente_num" string="Num" options="{'fg_color': 'red:restobultosmal== True'}"/>	
					<field name="journal_id" invisible="1" options="{'fg_color': 'red:restobultosmal== True'}"/>
					<field name="date_invoice" string="Fecha Factura" invisible="1" options="{'fg_color': 'red:restobultosmal== True'}"/>	
					<field name="dateinv_compra" string="Fecha Albarán" options="{'fg_color': 'red:restobultosmal== True'}"/>
					<field name="number" string="Referencia Interna" options="{'fg_color': 'red:restobultosmal== True'}"/>
					<field name="reference" string="Referencia Proveedor" options="{'fg_color': 'red:restobultosmal== True'}"/>
					<field name="partner_id" string="Proveedor" options="{'fg_color': 'red:restobultosmal== True'}"/>
                    <field name="date_due" invisible="1" options="{'fg_color': 'red:restobultosmal== True'}"/>
                    <field name="origin" string="Doc Origen" invisible="1" options="{'fg_color': 'red:restobultosmal== True'}"/>
                    <field name="amount_untaxed" string="Base Imponible" sum="Total" options="{'fg_color': 'red:restobultosmal== True'}"/>
                    <field name="amount_tax" string="Impuestos" sum="Total" options="{'fg_color': 'red:restobultosmal== True'}"/>
                    <field name="amount_total" string="Total" sum="Total" options="{'fg_color': 'red:restobultosmal== True'}"/>
                    <field name="residual_signed" string="Pendiente" sum="To pay" invisible="1" options="{'fg_color': 'red:restobultosmal== True'}"/>
                    <field name="currency_id" options="{'fg_color': 'red:restobultosmal== True'}"/>
                    <field name="company_currency_id" invisible="1" options="{'fg_color': 'red:restobultosmal== True'}"/>
                    <field name="state" invisible="1" options="{'fg_color': 'red:restobultosmal== True'}"/>
                    <field name="type" invisible="context.get('type',True)" options="{'fg_color': 'red:restobultosmal== True'}"/>
                    <field name="restobultosmal" invisible="1" options="{'fg_color': 'red:restobultosmal== True'}"/>
					<field name="restobultosasignado" attrs="{'invisible': [('journal_id','!=',9)]}"  options="{'fg_color': 'red:restobultosmal== True'}"/>
                </tree>
      </field>
    </record>


<record model="ir.ui.view" id="jovimer_facturas_prov_view_tree">
      <field name="name">Jovimer - Facturas Proveedor</field>
      <field name="model">account.invoice</field>
      <field name="arch" type="xml">
      <tree decoration-info="state == 'draft'" decoration-muted="state == 'cancel'" decoration-bf="not partner_id" string="Vendor Bill" js_class="account_bills_tree" default_order="id desc">
					<field name="expedientesdecompra" widget="many2many_tags" invisible="1"/>
					<field name="expediente" invisible="1"/>
					<field invisible="1" name="expediente_serien" string="Exp"/>
					<field invisible="1" name="expediente_num" string="Num"/>	
					<field name="journal_id" string="Fecha Factura" invisible="1"/>
					<field name="date_invoice" string="Fecha Contable"/>
					<field name="dateinv_compra" string="Fecha Factura"/>	

					
					<field name="number" string="Referencia Interna"/>
					<field name="reference" string="Referencia Proveedor"/>
					<field name="partner_id" string="Proveedor"/>
                    <field name="date_due" invisible="1"/>
                    <field name="origin" string="Doc Origen"/>
                    <field name="amount_untaxed" string="Base Imponible" sum="Total"/>
                    <field name="amount_tax" string="Impuestos" sum="Total"/>
                    <field name="amount_total" string="Total" sum="Total"/>
                    <field name="residual_signed" string="Pendiente" sum="To pay" invisible="1"/>
                    <field name="currency_id"/>
                    <field name="company_currency_id" invisible="1"/>
                    <field name="state" invisible="1"/>
                    <field name="type" invisible="context.get('type',True)"/>
                </tree>
      </field>
    </record>


<record model="ir.ui.view" id="jovimer_facturas_acre_view_tree">
      <field name="name">Jovimer - Facturas Acreedores</field>
      <field name="model">account.invoice</field>
      <field name="arch" type="xml">
      <tree decoration-info="state == 'draft'" decoration-muted="state == 'cancel'" decoration-bf="not partner_id" string="Vendor Bill" js_class="account_bills_tree" default_order="id desc">
                    
					<field name="expediente" invisible="1"/>
					<field name="expediente_serien" string="Exp" invisible="1"/>
					<field name="expediente_num" string="Num" invisible="1"/>					
					<field name="number" string="Referencia Interna"/>
					<field name="reference" string="Referencia Acreedor"/>
					<field name="partner_id" string="Acreedor"/>
                    <field name="date_invoice" string="Fecha Factura"/>
                    <field name="date_due"/>
                    <field name="origin" string="Doc Origen"/>
                    <field name="amount_untaxed" string="Base Imponible" sum="Total"/>
                    <field name="amount_tax" string="Impuestos" sum="Total"/>
                    <field name="amount_total" string="Total" sum="Total"/>
                    <field name="residual_signed" string="Pendiente" sum="To pay"/>
                    <field name="currency_id"/>
                    <field name="company_currency_id" invisible="1"/>
                    <field name="state"/>
                    <field name="type" invisible="context.get('type',True)"/>
                </tree>
      </field>
    </record>
	
	
	<record model="ir.ui.view" id="jovimer_facturas_trans_view_tree">
      <field name="name">Jovimer - Facturas Transporte</field>
      <field name="model">account.invoice</field>
      <field name="arch" type="xml">
      <tree create="false" decoration-info="state == 'draft'" decoration-muted="state == 'cancel'" decoration-bf="not partner_id" string="Vendor Bill" js_class="account_bills_tree" default_order="id desc">
                    
					<!-- <field name="expediente" invisible="1"/>
					<field name="expediente_serien" string="Exp"/> 
					<field name="expediente_num" string="Num"/>		-->			
					<field name="number" string="Referencia Interna"/>
					<field name="reference" string="Referencia Transportista"/>
					<field name="partner_id" string="Transportista"/>
                    <field name="dateinv_compra" string="Fecha Factura"/>
					<field name="date_invoice" string="Fecha Contable"/>
                    <field name="date_due" invisible="1"/>
                    <field name="origin" string="Doc Origen"/>
                    <field name="amount_untaxed" string="Base Imponible" sum="Total"/>
                    <field name="amount_tax" string="Impuestos" sum="Total"/>
                    <field name="amount_total" string="Total" sum="Total"/>
                    <field name="residual_signed" string="Pendiente" sum="To pay"/>
                    <field name="currency_id"/>
                    <field name="company_currency_id" invisible="1"/>
                    <field name="state"/>
                    <field name="type" invisible="context.get('type',True)"/>
                </tree>
      </field>
    </record>


	<record model="ir.ui.view" id="jovimer_facturas_sproviding_view_tree">
      <field name="name">Jovimer - Facturas Transporte</field>
      <field name="model">account.invoice</field>
      <field name="arch" type="xml">
      <tree decoration-info="state == 'draft'" decoration-muted="state == 'cancel'" decoration-bf="not partner_id" string="Vendor Bill" js_class="account_bills_tree" default_order="id desc">
                    
					<!-- <field name="expediente" invisible="1"/>
					<field name="expediente_serien" string="Exp"/> 
					<field name="expediente_num" string="Num"/>		-->			
					<field name="number" string="Referencia Interna"/>
					<field name="reference" string="Referencia Transportista"/>
					<field name="partner_id" string="Transportista"/>
                    <field name="dateinv_compra" string="Fecha Factura"/>
					<field name="date_invoice" string="Fecha Contable"/>
                    <field name="date_due" invisible="1"/>
                    <field name="origin" string="Doc Origen"/>
                    <field name="amount_untaxed" string="Base Imponible" sum="Total"/>
                    <field name="amount_tax" string="Impuestos" sum="Total"/>
                    <field name="amount_total" string="Total" sum="Total"/>
                    <field name="residual_signed" string="Pendiente" sum="To pay"/>
                    <field name="currency_id"/>
                    <field name="company_currency_id" invisible="1"/>
                    <field name="state"/>
                    <field name="type" invisible="context.get('type',True)"/>
                </tree>
      </field>
    </record>


<record model="ir.ui.view" id="jovimer_facturas_cli_view_tree">
      <field name="name">Jovimer - Facturas Clientes</field>
      <field name="model">account.invoice</field>
      <field name="arch" type="xml">
      <tree decoration-info="state == 'draft'" decoration-muted="state == 'cancel'" decoration-bf="not partner_id" string="Vendor Bill" js_class="account_bills_tree" default_order="id desc">
                    
					
					<field name="expediente_serien" string="Exp"/>
					<field name="expediente"/>
					<field name="date_invoice" string="Fecha Documento"/>
					<field name="number" string="Numero"/>
					<field name="refcliente"/>
					<field name="reference" invisible="1"/>
					<field name="partner_id" string="Cliente"/>
                    <field name="date_due" invisible="1"/>
                    <field name="origin" string="Doc Origen" invisible="1"/>
                    <field name="amount_untaxed" string="Base Imponible" sum="Total"/>
                    <field name="amount_tax" string="Impuestos" sum="Total"/>
                    <field name="amount_total" string="Total" sum="Total"/>
                    <field name="residual_signed" string="Pendiente" sum="To pay" invisible="1"/>
                    <field name="currency_id"/>
                    <field name="company_currency_id" invisible="1"/>
                    <field name="state"/>
                    <field name="type" invisible="context.get('type',True)"/>
					<field name="traspasocontfecha" />
                </tree>
      </field>
    </record>



<!-- VISTAS FORMULARIO -->


<record model="ir.ui.view" id="jovimer_facturas_cli_view_form">
      <field name="name">Pyme - Albaranes / Facturas Clientes</field>
      <field name="model">account.invoice</field>
      <field name="arch" type="xml">
  
  <form string="Facturas Clientes">
                <header>
                        <button name="action_invoice_open" confirm="Estas Seguro que deseas Validar el Documento" type="object" states="draft" string="Validar" class="oe_highlight" groups="account.group_account_invoice"/>
                        <button invisible="1" name="150" type="action" states="open" string="Registrar Pago" groups="account.group_account_invoice" class="oe_highlight"/>
                        <button invisible="1" name="213" type="action" string="Realizar Factura Rectificativa" groups="account.group_account_invoice" attrs="{'invisible': ['|',('type', 'in', ['in_refund','out_refund']),('state','not in',('open','paid'))]}"/>
                        <button name="action_invoice_draft" states="cancel" string="Volver a Activo" type="object" groups="account.group_account_invoice"/>

						<button name="action_invoice_cancel_pyme" type="object"  string="Cancelar Documento" attrs="{'invisible': [('traspasocont','=',True)]}"/>
						<button name="action_invoice_cancel_pyme2" type="object" confirm="Esta acción Cancelará una Factura Traspasada a Contabilidad. Debes tener en cuenta que se marcará como NO Traspasada y se tendrá que Variar y racargar en el LOGOCONTA. ¿Estas Seguro?" string="Cancelar Documento Contabilizado" attrs="{'invisible': [('traspasocont','=',False)]}"/>

						<button name="clean_internal_number" string="Limpiar Número de Factura" attrs="{'invisible':['|',('state','!=','cancel'),('move_name','=',False)]}" type="object" help="Limpiar Numero Interno Permite eliminar la Factura, pero eso puede provocar un salto en la numeración. Deberás ir a series de Documentos de Facturas para ver el siguiente número que otorgará"/>
                        
						
						<button name="763" type="action" string="Imprimir Albarán Venta" attrs="{'invisible': [('journal_id','!=',10),('move_name','=',False)]}"/>       
						<button name="808" type="action" string="Imprimir Albarán Venta VALORADO" attrs="{'invisible': [('journal_id','!=',10)]}"/>       
                        <button name="849" type="action" string="Imprimir Albarán Venta ESPAÑOL" attrs="{'invisible': [('journal_id','!=',10)]}"/>       
                        <button name="856" type="action" string="Imprimir Albarán PROVISIONAL" attrs="{'invisible': [('journal_id','!=',10)]}"/>       


						<button name="780" type="action" string="Imprimir Factura INTRACOMUNITARIA" attrs="{'invisible': [('journal_id','not in',(11,14,19,24,35,37))]}"/>       
						<button name="816" type="action" string="Imprimir Factura NACIONAL" attrs="{'invisible': [('journal_id','not in', (13,36))]}"/>
						<button name="805" type="action" string="Imprimir Factura SERVICIO - ESP" attrs="{'invisible': [('journal_id','not in', (13,36))]}"/>
						<button name="853" type="action" string="Imprimir Factura SERVICIO - ENG" attrs="{'invisible': [('journal_id','not in', (12,38))]}"/>

						<button name="791" type="action" string="Imprimir Factura de Rectificativa INTRA-EXTRA" attrs="{'invisible': [('journal_id','not in',(15,21,41,43))]}"/>   
						<button name="841" type="action" string="Imprimir Factura de Rectificativa Nacional" attrs="{'invisible': [('journal_id','not in',(20,40))]}"/>   

						<button name="action_printpackinglist" type="object" string="Imprimir Packing List"/>

						<button name="833" type="action" string="Imprimir Factura en Dolar - EURO/ Contenedor" attrs="{'invisible': [('journal_id','not in',(14,23,39))]}"/>
						<button name="834" type="action" string="Imprimir Factura en Dolar / Contenedor" attrs="{'invisible': [('journal_id','not in',(14,23,39))]}"/>   						
						<button name="850" type="action" string="Imprimir Factura en EURO / Contenedor" attrs="{'invisible': [('journal_id','not in',(14,23,39))]}"/>   						

						<button name="835" type="action" string="Imprimir Factura Rectificativa en Dolar" attrs="{'invisible': [('journal_id','not in',(22,44))]}"/>
						<button name="854" type="action" string="Imprimir Factura Rectificativa en Euro" attrs="{'invisible': [('journal_id','not in',(22,44))]}"/>
                        <button name="840" type="action" string="Imprimir Factura Rectificativa en Euro / Dolar" attrs="{'invisible': [('journal_id','not in',(22,44))]}"/>

						<button name="action_afactura" type="object" string="Crear Factura de Cliente E0/J0" attrs="{'invisible': [('journal_id','!=',10)]}"/>  

                        <button name="action_crearectificativa" type="object" confirm="Esta accion Generará un ABONO para la Factura Presente. ¿Estas Seguro?" string="Genera Rectificativa J0" attrs="{'invisible': [('journal_id','!=',11)]}"/>
                        <button name="action_crearectificativa" type="object" confirm="Esta accion Generará un ABONO para la Factura Presente. ¿Estas Seguro?" string="Genera Rectificativa J1" attrs="{'invisible': [('journal_id','!=',24)]}"/>
                        <button name="action_crearectificativa" type="object" confirm="Esta accion Generará un ABONO para la Factura Presente. ¿Estas Seguro?" string="Genera Rectificativa S1" attrs="{'invisible': [('journal_id','!=',19)]}"/>

                        <button name="action_crearectificativa" type="object" confirm="Esta accion Generará un ABONO para la Factura Presente. ¿Estas Seguro?" string="Genera Rectificativa J2" attrs="{'invisible': [('journal_id','!=',35)]}"/>
                        <button name="action_crearectificativa" type="object" confirm="Esta accion Generará un ABONO para la Factura Presente. ¿Estas Seguro?" string="Genera Rectificativa S2" attrs="{'invisible': [('journal_id','!=',37)]}"/>
						<button name="action_crearectificativa" type="object" confirm="Esta accion Generará un ABONO para la Factura Presente. ¿Estas Seguro?" string="Genera Rectificativa X22" attrs="{'invisible': [('journal_id','!=',39)]}"/>


                        <button name="action_crearectificativaextra" type="object" confirm="Esta accion Generará un ABONO para la Factura Presente. ¿Estas Seguro?" string="Genera Rectificativa X1" attrs="{'invisible': [('journal_id','!=',23)]}"/>



                        <button name="action_crearectificativanac" type="object" confirm="Esta accion Generará un ABONO para la Factura Presente. ¿Estas Seguro?" string="Genera Rectificativa Nacional" attrs="{'invisible': [('journal_id','!=',13)]}"/>  						
                        <button name="action_crearectificativasrv" type="object" confirm="Esta accion Generará un ABONO para la Factura Presente. ¿Estas Seguro?" string="Genera Rectificativa Servicios" attrs="{'invisible': [('journal_id','!=',12)]}"/>  						
                        <button name="action_creaediexport" type="object" string="EDI EXPORT"/>  						




				   <field name="state" widget="statusbar" statusbar_visible="draft,open,paid"/>
                </header>
               <!--
			   <div groups="account.group_account_invoice" class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('has_outstanding','=',False)]}">
                    You have <bold><a class="alert-link" href="#outstanding" role="button">outstanding debits</a></bold> for this supplier. You can allocate them to mark this bill as paid.
                </div>
				
				-->
<div class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('bloqueapago','!=',True)]}"><center>
                    <bold><a class="alert-link" href="#outstanding" role="button"><h1>FACTURA CON PAGOS REALIZADOS</h1></a></bold></center>
                </div>	
                <field name="has_outstanding" invisible="1"/>
				 
                <sheet string="Vendor Bill">
                    <div>
                        <label for="type_id" string="Draft Bill" attrs="{'invisible': ['|',('state','!=','draft'), ('type','!=','in_invoice')]}"/>
                        <label for="type_id" string="Draft Credit Note" attrs="{'invisible': ['|',('state','!=','draft'), ('type','!=','in_refund')]}"/>
                        <label for="type_id" string="Bill " attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','!=','in_invoice')]}"/>
                        <label for="type_id" string="Credit Note " attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','!=','in_refund')]}"/>
                    </div>
                    <field name="type" invisible="1"/>
                    <group>
                        <group>

					    <field name="refcliente" attrs="{'readonly': [('journal_id','=', 10), ('expediente','=', False)]}"/>
						<field name="date_invoice" string="Fecha Documento"/>
                        <field string="Cliente" name="partner_id"  options="{'no_quick_create': True}"/>
				        <field name="partner_shipping_id"  options="{'no_quick_create': True}"/>
                        <field name="reference" invisible="1"/>
                        <field name="fileedilink" widget="url"/>

                        </group>
                        <group>
						
						<field name="id"/>
						<label for="expediente"/>
						<div>
						<field name="expediente_serien" string="Exp" class="oe_inline"/>
						<label for="expediente" string="/" class="oe_inline"/>
					    <field name="expediente" class="oe_inline" options="{'no_create': True}"/>
						</div>
						<label for="journal_id" string="Serie/Num"/>
						<div>
                            <field name="journal_id" class="oe_inline" options="{'no_create': True}" attrs="{'readonly':[('move_name','!=',False)]}"/>
							<label for="journal_id" string=" / "/>
						    <field name="sequence_number_next" class="oe_inline" invisible="1"/>
							<field name="move_name" class="oe_inline"/>
							<field name="number" class="oe_inline" invisible="1"/>
							
						</div>
						    <field name="fechaoperacionrect" attrs="{'invisible': [('journal_id', 'not in', [15,20,21,22,40,41,43,44])]}"/>
							<field name="origin" invisible="1" attrs="{'invisible': [('origin', '=', False)]}"/>
                            <field name="date_due" invisible="1" string="Vencimiento" attrs="{'readonly': [('payment_term_id','!=',False)]}"/>
                            <field name="move_name" invisible="1"/>
							<label for="traspasocont" attrs="{'invisible': [('journal_id', '=', 10)]}"/>
							<div>
							<field name="traspasocont" class="oe_inline"  attrs="{'invisible': [('journal_id', '=', 10)]}"/>
							<field name="traspasocontfecha" class="oe_inline"  attrs="{'invisible': [('journal_id', '=', 10)]}"/>
							</div>
                            <field name="currency_id" options="{'no_create': True, 'no_open': True}" groups="base.group_multi_currency"/>
                            <field name="company_currency_id" invisible="1"/>
							<field name="cambiodollar" attrs="{'invisible': [('currency_id', '!=', 2)]}"/>
							<field name="company_currency_id" invisible="1"/>
							<field name="fileedi" invisible="1"/>
							<label for="cambiodollar" string="Calcula Cantidades"/>
							<div>
							<button name="action_calculatodoslasunidades" type="object" string="Calcular" confirm="¿Este icono esta en pruebas. Deseas Continuar?" attrs="{'invisible': [('journal_id','!=',10)]}"/>
							</div>
                        </group>
                    </group>
                    <notebook>
                        <page string="Lineas">
						<group>
						<button type="object" string="Importar Lineas Proveedores" name="importarlineasventa" attrs="{'invisible': [('journal_id','!=',10)]}"/>
						
						<button type="object" string="Importar Lineas Almacén" name="importarlineasalmacen" attrs="{'invisible': [('journal_id','!=',10)]}"/>
						
						<button type="object" string="Importar Lineas Albaranes" name="importarlineasalbaran" attrs="{'invisible': [('journal_id','=',10)]}"/>
						
						<!-- 
						<div>
					      <field name="buscaasignacion" class="oe_inline" attrs="{'invisible': [('journal_id','!=',10)]}" options="{'no_create': True, 'no_create_edit':True}"/>
					     <button type="object" string="Añadir Lineas Asignadas" name="anyadirlinasig" class="oe_inline" attrs="{'invisible': [('journal_id','!=',10)]}"/>
					    </div>
						
						-->
						</group>
						<group>
                            <field name="origin" string="ALbarán ORIGEN"/>
						</group>
						<button invisible="1" type="object" string="Explorar lineas" name="jovimer_view_lineasfact"/>
							<field context="{'type': type, 'journal_id': journal_id}" name="invoice_line_ids">
                                    <tree string="Bill lines">
                                    <field name="algovamal" invisible="1"/>
									<field name="sequence" widget="handle"/>
                                    <field name="ocultaimpresion" string="No Imp"/>    
                                    <field name="expediente" options="{'bg_color': 'yellow:algovamal== True'}"/>
                                    <field name="codproducto" options="{'bg_color': 'yellow:algovamal== True'}"/>
                                    <field name="product_id" invisible="1" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
									<field name="variedad" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="variedadeng"  options="{'bg_color': 'yellow:algovamal== True'}" attrs="{'invisible': [('parent.journal_id', '!=', '10')]}"/>
                                    <field name="name" invisible="1"/>
                                    <field name="confeccion" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="marca" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="envase" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="categoria" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="calibre" options="{'bg_color': 'yellow:algovamal== True'}"/>
                                    <field name="company_id" invisible="1"/>
                                    <field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                                    <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
                                    <field name="cantidadpedido" string="Pl" widget="integer"  options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="unidadpedido" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="unidadesporbulto" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="bultos" string="BxP" widget="integer"  options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="totalbultos" string="Bultos" widget="integer"  options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="kgnetbulto" invisible="1"/>
									<field name="totalkglin" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="totalkglinbr" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="envasecod" invisible="1"/>
									<button name="facturaifcos" string="Fact. IFCO" type="object"   attrs="{'invisible': [('envasecod', '!=', 'IFCO')]}"/>
                                    <field name="uom_id" groups="product.group_uom"/>
                                    <field name="price_unit" string="Precio" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="quantity" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="unidabulto" string="Ud" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="udfacturacion" string="U.Fact" readonly="1"/>
                                    <field name="discount"  options="{'bg_color': 'yellow:algovamal== True'}" string="Dto %" attrs="{'invisible': [('parent.journal_id', '=', '10')]}"/>
									<field name="diariofactura" invisible="1"/>
                                    <field name="invoice_line_tax_ids"   widget="many2many_tags" attrs="{'invisible': [('parent.journal_id', '=', '10')]}" options="{'bg_color': 'yellow:algovamal== True'}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
                                    <field name="price_subtotal" string="SubTotal" options="{'bg_color': 'yellow:algovamal== True'}"/>
                                    <field name="currency_id" invisible="1"/>
									 <field name="asignado" options="{'bg_color': 'yellow:algovamal== True'}"/>

                                </tree>
								
								
																<form>
				  <sheet>
				  
				  <div class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('algovamal','=',False)]}">
                    <center><bold><h2>Hay algún problema con la Compra y/o diferencias entre COMPRAS y VENTAS</h2></bold> 					</center>
                </div>
					
				  <group>
					<group>
					 <field name="diariofactura"  invisible="1"/>
					 <field name="plantilla"  domain="[('noactivo', '!=', True)]" options="{'no_create': True, 'no_create_edit':True}"/>
					 <field name="codproducto"/>
					  <field name="product_id" options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="variedad"  required="1" options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="calibre"  options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="categoria"  options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="confeccion"  options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="envase"  options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="marca"  options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="bultos" widget="integer" />
					  <field name="kgnetbulto"/>
					  <field name="totalbultos"/>
					  <field name="obsbultos"/>
					</group>
				  <group>
				    <field name="id"/>
					<field name="expediente" options="{'no_create': True, 'no_create_edit':True}"/>
					<field name="cantidadpedido" widget="integer" />
					<field name="unidadpedido" options="{'no_create': True, 'no_create_edit':True}"/>
					<label for="unidabulto"/>
					<div>
					 <field name="unidabulto" class="oe_inline" options="{'no_create': True, 'no_create_edit':True}"/>
					 <button name="calcula_cantidad" icon="fa-spinner" type="object" string="" class="oe-inline"/>
					</div>
					<field name="udfacturacion" string="Ud.Facturación" readonly="1"/>
					<field name="quantity"/>
                    <field name="uom_id" options="{'no_create': True, 'no_create_edit':True}"/>
					<field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                    <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
                    <field name="price_unit"/>
                    <field name="discount"/>
                    <field name="invoice_line_tax_ids" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','sale'),('company_id', '=', parent.company_id)]"/>
                    <field name="price_subtotal"/>
					 <field name="ocultaimpresion"/>
					 <field name="totalkglin"/>
					 <field name="totalkglinbr"/>
                    <field name="currency_id" invisible="1"/>
				  </group>
				  </group> 
				  <group>
				   <field name="name"/>
				   <label for="lineacompracalidadpartner"/>
				   <div>
				   <field name="lineacompracalidadpartner" class="oe_inline"/>
				   <label for="cabeceraalbarancompra" class="oe_inline" string=" "/>
				   <field name="cabeceraalbarancompra" class="oe_inline"/>
				   </div>
				    <field name="lineacabalbarancompra" readonly="1"/>
				  </group>
				  <notebook>
                  
				  <page string="Linea de Compra">
					<group><group>
					    <field name="algovamal"/>
						<field name="lineaalbarancompra" readonly="1"/>
						<field name="lineacompra" readonly="1"/>
						<field name="asignado"/>
						<field name="lineaventa" readonly="1"/>
						<field name="lineaventaud"/>
					</group>
					<group>
						<field name="bultostotalesalbarancompra" readonly="1"/>
						<field name="bultostotalespedidocompra" readonly="1"/>
						
						
						<field name="precioplantilla" readonly="1"/>
						<field name="precioudplantilla" readonly="1"/>
						
					
					</group>
					
					</group>
				  </page>

				  	<page string="Reclamaciones">
					 <field name="statusrecla" invisible="1"/>
					 <button name="action_crearreclamacionacc" string="Abrir Reclamación"  attrs="{'invisible': [('statusrecla', '!=', 'OK')]}" type="object" confirm="Esta accion detendrá el Flujo del Presente Documento. ¿Estás Seguro?"/> 
					 <button name="action_cerrarreclamacion" string="Cerrar Reclamación"  attrs="{'invisible': [('statusrecla', '=', 'OK')]}" type="object" confirm="Esta accion cerrará la Reclamación. ¿Estás Seguro?"/> 
					 <br/>
					 <field name="reclamaciones"/>
				  </page>

				  	<page string="Devoluciones" attrs="{'invisible': [('diariofactura', '!=', 10)]}" >
                     <div attrs="{'invisible': [('devoluvtar', '!=', False)]}"> 
					  <button name="devoluclialb" string="Realiza Devolución" type="object"  attrs="{'invisible': [('devoluvtar', '!=', False)]}"/> 
					 </div>
					 <br/>
					 <field name="devoluvtar" readonly="1">
					
					 </field>

				  </page>

				  </notebook>
				  </sheet>
								
								</form>
				
								
								
                            </field>
                            <group>
                                <group class="oe_subtotal_footer oe_right">
								                                       
								    <field name="totalpalets"/>
									<field name="totalkg" string="Kg. Neto"/>
									<field name="totalkgbr" string="Kg. Bruto"/>
									<field name="totalbltkg"/>
									<field name="amount_untaxed"/>
                                    <field name="amount_tax"/>
                                    <field name="amount_total" class="oe_subtotal_footer_separator"/>
									<field name="totaleurodollar" attrs="{'invisible': [('currency_id', '!=', 2)]}" class="oe_subtotal_footer_separator"/>
                                    <field name="payments_widget" colspan="2" nolabel="1" widget="payment"/>
                                    <field name="residual" class="oe_subtotal_footer_separator" attrs="{'invisible': [('state', '=', 'draft')]}"/>
                                    <field name="reconciled" invisible="1"/>
                                    <field invisible="1" name="outstanding_credits_debits_widget" colspan="2" nolabel="1" widget="payment" attrs="{'invisible': [('state', 'not in', 'open')]}"/>
                                </group>
                            </group>
                            <div>
                                <field name="comment" placeholder="Additional notes..."/>
                            </div>
                        </page>
				  <page string="Transporte">
				  <group string="Extra">
				   <field name="contenedordes"/>
				  </group>
				  <group>
				     <field name="ordendecarganac"/>
				     <field name="ordendecargaint"/>
					 </group>
				  </page>
                        <page string="Más Informacion" name="other_info">
													<group string="Descripcion de Impuestos">
							
                                        <field name="tax_line_ids">
                                            <tree editable="bottom" string="Taxes">
                                                <field name="name"/>
                                                <!--Need invisible fields for on_change to create all necessary info -->
                                                <field name="base"/>
												<field name="tax_id" invisible="1"/>
                                                <field name="sequence" invisible="1"/>
                                                <field name="manual" invisible="1"/>
                                                <field name="account_id" groups="account.group_account_user"/>
                                                <field name="account_analytic_id" domain="[('company_id', '=', parent.company_id)]" groups="analytic.group_analytic_accounting"/>
                                                <field name="x_impresion"/>
												<field name="amount"/>
                                                <field name="amount_rounding" invisible="1"/>
                                                <field name="amount_total" invisible="1"/>
                                                <field name="currency_id" invisible="1"/>
                                            </tree>
                                        </field>
                                   
									</group>	
							<group>
                                <group>
                                    
                                    <field domain="[('partner_id', '=', partner_id)]" name="partner_bank_id" invisible="1"/>
                                    <field name="user_id" string="Responsible"/>
                                    <field domain="[('company_id', '=', company_id), ('internal_type', '=', 'payable'), ('deprecated', '=', False)]" name="account_id" groups="account.group_account_user"/>
                                    <field name="payment_term_id" options="{'no_create': True}"/>
                                    <field name="name"/>
									<field name="bloqueapago" readonly="1"/>
                                </group>
                                <group>
                                    <field name="fiscal_position_id" options="{'no_create': True}" placeholder="Auto-detect"/>
                                    <field name="move_id" groups="account.group_account_user" attrs="{'invisible': [('move_id', '=', False)]}"/>
                                    <field name="date" domain="[('state', '=', 'draft'), ('company_id', '=', company_id)]" groups="account.group_account_user"/>
                                    <field name="company_id" options="{'no_create': True}" groups="base.group_multi_company"/>
                                </group>
                            </group>
  					</page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                </form>
           </field>
    </record>  









<record model="ir.ui.view" id="jovimer_preciosalb_cli_view_form">
      <field name="name">Pyme - Albaranes / Facturas Clientes</field>
      <field name="model">account.invoice</field>
      <field name="arch" type="xml">
  
  <form string="Facturas Clientes">
                <header>
                        <button name="action_invoice_open" confirm="Estas Seguro que deseas Validar el Documento" type="object" states="draft" string="Validar" class="oe_highlight" groups="account.group_account_invoice"/>
                        <button invisible="1" name="150" type="action" states="open" string="Registrar Pago" groups="account.group_account_invoice" class="oe_highlight"/>
                        <button invisible="1" name="213" type="action" string="Realizar Factura Rectificativa" groups="account.group_account_invoice" attrs="{'invisible': ['|',('type', 'in', ['in_refund','out_refund']),('state','not in',('open','paid'))]}"/>
                        <button name="action_invoice_draft" states="cancel" string="Volver a Activo" type="object" groups="account.group_account_invoice"/>

						<button name="action_invoice_cancel_pyme" type="object"  string="Cancelar Documento" attrs="{'invisible': [('traspasocont','=',True)]}"/>
						<button name="action_invoice_cancel_pyme2" type="object" confirm="Esta acción Cancelará una Factura Traspasada a Contabilidad. Debes tener en cuenta que se marcará como NO Traspasada y se tendrá que Variar y racargar en el LOGOCONTA. ¿Estas Seguro?" string="Cancelar Documento Contabilizado" attrs="{'invisible': [('traspasocont','=',False)]}"/>

						<button name="clean_internal_number" string="Limpiar Número de Factura" attrs="{'invisible':['|',('state','!=','cancel'),('move_name','=',False)]}" type="object" help="Limpiar Numero Interno Permite eliminar la Factura, pero eso puede provocar un salto en la numeración. Deberás ir a series de Documentos de Facturas para ver el siguiente número que otorgará"/>
                        
						
						<button name="763" type="action" string="Imprimir Albarán Venta" attrs="{'invisible': [('journal_id','!=',10),('move_name','=',False)]}"/>       
						<button name="808" type="action" string="Imprimir Albarán Venta VALORADO" attrs="{'invisible': [('journal_id','!=',10)]}"/>       
                        <button name="849" type="action" string="Imprimir Albarán Venta ESPAÑOL" attrs="{'invisible': [('journal_id','!=',10)]}"/>       
                        <button name="856" type="action" string="Imprimir Albarán PROVISIONAL" attrs="{'invisible': [('journal_id','!=',10)]}"/>       

				   <field name="state" widget="statusbar" statusbar_visible="draft,open,paid"/>
                </header>
               <!--
			   <div groups="account.group_account_invoice" class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('has_outstanding','=',False)]}">
                    You have <bold><a class="alert-link" href="#outstanding" role="button">outstanding debits</a></bold> for this supplier. You can allocate them to mark this bill as paid.
                </div>
				
				-->
                <field name="has_outstanding" invisible="1"/>
                <sheet string="Vendor Bill">
                    <div>
                        <label for="type_id" string="Draft Bill" attrs="{'invisible': ['|',('state','!=','draft'), ('type','!=','in_invoice')]}"/>
                        <label for="type_id" string="Draft Credit Note" attrs="{'invisible': ['|',('state','!=','draft'), ('type','!=','in_refund')]}"/>
                        <label for="type_id" string="Bill " attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','!=','in_invoice')]}"/>
                        <label for="type_id" string="Credit Note " attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','!=','in_refund')]}"/>
                    </div>
                    <field name="type" invisible="1"/>
                    <group>
                        <group>

					    <field name="refcliente" attrs="{'readonly': [('journal_id','=', 10), ('expediente','=', False)]}"/>
						<field name="date_invoice" string="Fecha Documento"/>
                        <field string="Cliente" name="partner_id"  options="{'no_quick_create': True}"/>
				        <field name="partner_shipping_id"  options="{'no_quick_create': True}"/>
                        <field name="reference" invisible="1"/>
                        <field name="fileedilink" widget="url"/>

                        </group>
                        <group>
						
						<field name="id"/>
						<label for="expediente"/>
						<div>
						<field name="expediente_serien" string="Exp" class="oe_inline"/>
						<label for="expediente" string="/" class="oe_inline"/>
					    <field name="expediente" class="oe_inline" options="{'no_create': True}"/>
						</div>
						<label for="journal_id" string="Serie/Num"/>
						<div>
                            <field name="journal_id" class="oe_inline" options="{'no_create': True}" attrs="{'readonly':[('move_name','!=',False)]}"/>
							<label for="journal_id" string=" / "/>
						    <field name="sequence_number_next" class="oe_inline" invisible="1"/>
							<field name="move_name" class="oe_inline"/>
							<field name="number" class="oe_inline" invisible="1"/>
							
						</div>
						    <field name="fechaoperacionrect" attrs="{'invisible': [('journal_id', 'not in', [15,20,21,22])]}"/>
							<field name="origin" invisible="1" attrs="{'invisible': [('origin', '=', False)]}"/>
                            <field name="date_due" invisible="1" string="Vencimiento" attrs="{'readonly': [('payment_term_id','!=',False)]}"/>
                            <field name="move_name" invisible="1"/>
							<label for="traspasocont" attrs="{'invisible': [('journal_id', '=', 10)]}"/>
							<div>
							<field name="traspasocont" class="oe_inline"  attrs="{'invisible': [('journal_id', '=', 10)]}"/>
							<field name="traspasocontfecha" class="oe_inline"  attrs="{'invisible': [('journal_id', '=', 10)]}"/>
							</div>
                            <field name="currency_id" options="{'no_create': True, 'no_open': True}" groups="base.group_multi_currency"/>
                            <field name="company_currency_id" invisible="1"/>
							<field name="cambiodollar" attrs="{'invisible': [('currency_id', '!=', 2)]}"/>
							<field name="company_currency_id" invisible="1"/>
							<field name="fileedi" invisible="1"/>

                        </group>
                    </group>
                    <notebook>
                        <page string="Lineas">

							<field context="{'type': type, 'journal_id': journal_id}" name="invoice_line_ids">
                                    <tree string="Bill lines" editable="top">
                                    <field name="algovamal" invisible="1"/>
									<field name="sequence" widget="handle"/>
                                    <field name="ocultaimpresion" invisible="1" string="No Imp"/>    
                                    <field name="expediente" invisible="1" options="{'bg_color': 'yellow:algovamal== True'}"/>
                                    <field name="codproducto" options="{'bg_color': 'yellow:algovamal== True'}"/>
                                    <field name="product_id" invisible="1" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
									<field name="variedad" readonly="1" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="variedadeng"  invisible="1" options="{'bg_color': 'yellow:algovamal== True'}" attrs="{'invisible': [('parent.journal_id', '!=', '10')]}"/>
                                    <field name="name" invisible="1"/>
                                    <field name="confeccion" readonly="1" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="marca" readonly="1" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="envase" readonly="1" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="categoria" readonly="1" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="calibre" readonly="1" options="{'bg_color': 'yellow:algovamal== True'}"/>
                                    <field name="company_id" invisible="1"/>
                                    <field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                                    <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
                                    <field name="cantidadpedido" string="Pl" widget="integer"  options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="unidadpedido" options="{'bg_color': 'yellow:algovamal== True','no_create': True, 'no_open': True}"/>
									<field name="unidadesporbulto" invisible="1" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="bultos" string="BxP" widget="integer"  options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="totalbultos" string="Bultos" widget="integer"  options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="kgnetbulto" invisible="1"/>
									<field name="totalkglin" invisible="1" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="totalkglinbr" invisible="1" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="envasecod" invisible="1"/>
                                    <field name="uom_id" invisible="1" groups="product.group_uom"/>
                                    <field name="precioscompra" readonly="1"/>
                                    <field name="price_unit" string="Precio" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="quantity" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="unidabulto" string="Ud" options="{'bg_color': 'yellow:algovamal== True','no_create': True, 'no_open': True}"/>
                                    <field name="discount"  options="{'bg_color': 'yellow:algovamal== True'}" string="Dto %" attrs="{'invisible': [('parent.journal_id', '=', '10')]}"/>
									<field name="diariofactura" invisible="1"/>
                                    <field name="invoice_line_tax_ids"  invisible="1" widget="many2many_tags" attrs="{'invisible': [('parent.journal_id', '=', '10')]}" options="{'bg_color': 'yellow:algovamal== True'}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
                                    <field name="price_subtotal" string="Total VTA" options="{'bg_color': 'yellow:algovamal== True'}"/>
									<field name="pvpcoste" string="Coste" options="{'bg_color': 'yellow:algovamal== True'}"/>
                                    <field name="resultadoresto"/>
                                    <field name="currency_id" invisible="1"/>
									 <field name="asignado" invisible="1"  options="{'bg_color': 'yellow:algovamal== True'}"/>

                                </tree>
								
                            </field>
                            <group>
                                <group class="oe_subtotal_footer oe_right">
								                                       
								    <field name="totalpalets"/>
									<field name="totalkg" string="Kg. Neto"/>
									<field name="totalkgbr" string="Kg. Bruto"/>
									<field name="totalbltkg"/>
									<field name="amount_untaxed"/>
                                    <field name="amount_tax"/>
                                    <field name="amount_total" class="oe_subtotal_footer_separator"/>
									<field name="totaleurodollar" attrs="{'invisible': [('currency_id', '!=', 2)]}" class="oe_subtotal_footer_separator"/>
                                    <field name="payments_widget" colspan="2" nolabel="1" widget="payment"/>
                                    <field name="residual" class="oe_subtotal_footer_separator" attrs="{'invisible': [('state', '=', 'draft')]}"/>
                                    <field name="reconciled" invisible="1"/>
                                    <field name="outstanding_credits_debits_widget" colspan="2" nolabel="1" widget="payment" attrs="{'invisible': [('state', 'not in', 'open')]}"/>
                                </group>
                            </group>
                            <div>
                                <field name="comment" placeholder="Additional notes..."/>
                            </div>
                        </page>
				  <page string="Transporte">
				  <group>
				     <field name="ordendecarganac"/>
				     <field name="ordendecargaint"/>
					 </group>
				  </page>
                        <page string="Más Informacion" name="other_info">
													<group string="Descripcion de Impuestos">
							
                                        <field name="tax_line_ids">
                                            <tree editable="bottom" string="Taxes">
                                                <field name="name"/>
                                                <!--Need invisible fields for on_change to create all necessary info -->
                                                <field name="base"/>
												<field name="tax_id" invisible="1"/>
                                                <field name="sequence" invisible="1"/>
                                                <field name="manual" invisible="1"/>
                                                <field name="account_id" groups="account.group_account_user"/>
                                                <field name="account_analytic_id" domain="[('company_id', '=', parent.company_id)]" groups="analytic.group_analytic_accounting"/>
                                                <field name="x_impresion"/>
												<field name="amount"/>
                                                <field name="amount_rounding" invisible="1"/>
                                                <field name="amount_total" invisible="1"/>
                                                <field name="currency_id" invisible="1"/>
                                            </tree>
                                        </field>
                                   
									</group>	
							<group>
                                <group>
                                    
                                    <field domain="[('partner_id', '=', partner_id)]" name="partner_bank_id" invisible="1"/>
                                    <field name="user_id" string="Responsible"/>
                                    <field domain="[('company_id', '=', company_id), ('internal_type', '=', 'payable'), ('deprecated', '=', False)]" name="account_id" groups="account.group_account_user"/>
                                    <field name="payment_term_id" options="{'no_create': True}"/>
                                    <field name="name"/>
                                </group>
                                <group>
                                    <field name="fiscal_position_id" options="{'no_create': True}" placeholder="Auto-detect"/>
                                    <field name="move_id" groups="account.group_account_user" attrs="{'invisible': [('move_id', '=', False)]}"/>
                                    <field name="date" domain="[('state', '=', 'draft'), ('company_id', '=', company_id)]" groups="account.group_account_user"/>
                                    <field name="company_id" options="{'no_create': True}" groups="base.group_multi_company"/>
                                </group>
                            </group>
  					</page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                </form>
           </field>
    </record>  








 <record model="ir.ui.view" id="jovimer_albaval_cli_view_tree">
      <field name="name">Pyme - Valoraciones </field>
      <field name="model">account.invoice.line</field>
	  <field name="priority">0</field>
      <field name="arch" type="xml">
   <tree string="Bill lines" editable="top">
                                    <field name="sequence" widget="handle" invisible="1"/>
                                    <field name="expediente" readonly="1"/>
									<field name="fechafact"/>
									<field name="partner_id" readonly="1"/>
									<field name="paislins" readonly="1"/>
									<field name="invoice_id" readonly="1" string="Documento"/>
                                    <field name="lineacompra" invisible="1" readonly="1"/>
									<field name="lineaventa" invisible="1" readonly="1"/>
									<field name="product_id"  invisible="1" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
                                    <field name="name" invisible="1"/>
									<field name="variedad" readonly="1"/>
                                    <field name="confeccion" readonly="1"/>
									<field name="marca" readonly="1"/>
									<field name="envase" readonly="1"/>
									<field name="categoria" readonly="1"/>
                                    <field name="cantidadpedido" widget="integer" />
									<field name="unidadpedido"/>
									<field name="bultos" string="BxP" widget="integer" />
									<field name="totalbultos" string="Bultos" widget="integer" />	
									<field name="totalkglin"/>									
									
									<field name="pricej" readonly="1" string="PVD Compra"/>
									<field name="cantidadj" readonly="1"/>
									<field name="unidabultoj" readonly="1" string="UD Compra"/>
									<field name="subtotalj" readonly="1" invisible="1"/>
                                    
									<button name="calcula_cantidad" icon="fa-spinner" type="object" string="" class="oe-inline"/>
									
									<field name="company_id" invisible="1"/>
                                    <field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                                    <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
									<field name="price_unit" string="PVD Alb"/>
									<field name="quantity"/>
									<field name="unidabulto" string="UD Alb"/>
									
									
                                    <field name="uom_id" groups="product.group_uom"/>
                                    
                                    <field name="discount"/>
                                    <field name="invoice_line_tax_ids"  invisible="1" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
                                    <field name="price_subtotal" string="Subtotal"/>
                                    <field name="currency_id" invisible="1"/>
                                </tree>
           </field>
    </record>  


 <record model="ir.ui.view" id="jovimer_albaval_prov_view_tree">
      <field name="name">Pyme - Valoraciones </field>
      <field name="model">account.invoice.line</field>
	  <field name="priority">0</field>
      <field name="arch" type="xml">
   <tree string="Bill lines" editable="top">
                                    <field name="sequence" widget="handle" invisible="1"/>
                                    <field name="expediente" readonly="1" string="Exp"/>
									<field name="fechafact"/>
									<field name="partner_id" readonly="1"/>
									<field name="paislins" readonly="1"/>
									<field name="invoice_id" readonly="1" string="Documento"/>
									<field name="refcliente" readonly="1" string="Ref Proveedor"/>
                                    <field name="lineacompra" readonly="1" invisible="1"/>
									<field name="lineaventa" readonly="1" invisible="1"/>
									<field name="product_id"  invisible="1" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
                                    <field name="name" invisible="1"/>
									<field name="variedad" readonly="1"/>
                                    <field name="confeccion" readonly="1"/>
									<field name="marca" readonly="1"/>
									<field name="envase" readonly="1"/>
									<field name="categoria" readonly="1"/>
                                    <field name="cantidadpedido" widget="integer" />
									<field name="unidadpedido"/>
									<field name="bultos" widget="integer"  string="BxP"/>	
									<field name="totalbultos" string="Tot Blt"/>									
									<field name="totalkglin"/>	
									<field name="pricej" readonly="1" string="PVD Comp"/>
									<field name="cantidadj" readonly="1"/>
									<field name="unidabultoj" readonly="1" string="UD Comp"/>
									<field name="subtotalj" readonly="1" invisible="1"/>
                                    
									<button name="calcula_cantidad" icon="fa-spinner" type="object" string="" class="oe-inline"/>
									
									<field name="company_id" invisible="1"/>
                                    <field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                                    <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
									<field name="price_unit" string="PVD-Alb"/>
									<field name="quantity"/>
									<field name="unidabulto" string="UD-Alb"/>
									
									
                                    <field name="uom_id" groups="product.group_uom"/>
                                    
                                    <field name="discount" string="Dto"/>
                                    <field name="invoice_line_tax_ids"  invisible="1" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
                                    <field name="price_subtotal" string="Subtotal"/>
                                    <field name="currency_id" invisible="1"/>
                                </tree>
           </field>
    </record>  




   <record model="ir.ui.view" id="jovimer_facturas_prov_view_form">
      <field name="name">Pyme - Albaranes / Facturas Proveedor</field>
      <field name="model">account.invoice</field>
	  <field name="priority">0</field>
      <field name="arch" type="xml">
  
  <form string="Facturas Proveedor">
                <header>
                        <button name="action_invoice_open" type="object" states="draft" string="Validar" class="oe_highlight" groups="account.group_account_invoice"/>
                        <button name="action_validate_and_write" type="object" string="Validar y Guardar" attrs="{'invisible': ['|',('journal_id','!=', 9),('state','in',('open','paid','cancel'))]}"/>
                        
						<button invisible="1" name="150" type="action" states="open" string="Registrar Pago" groups="account.group_account_invoice" class="oe_highlight"/>
                        <button invisible="1" name="213" type="action" string="Realizar Factura Rectificativa" groups="account.group_account_invoice" attrs="{'invisible': ['|',('type', 'in', ['in_refund','out_refund']),('state','not in',('open','paid'))]}"/>
                        <button name="action_invoice_draft" states="cancel" string="Volver a Activo" type="object" groups="account.group_account_invoice"/>
						<button name="action_invoice_cancel_pyme" type="object" states="draft,open,paid" string="Cancelar Documento"  confirm="Estas Seguro que deseas Cancelar el Documento" attrs="{'invisible': [('bloqueapago','=',True)]}"/>
						<button name="clean_internal_number" string="Limpiar Número de Factura" attrs="{'invisible':['|',('state','!=','cancel'),('move_name','=',False)]}" type="object" help="Limpiar Numero Interno Permite eliminar la Factura, pero eso puede provocar un salto en la numeración. Deberás ir a series de Documentos de Facturas para ver el siguiente número que otorgará"/>
                        <button name="" type="object" states="draft" string="Generar Factura Cliente" confirm="Deseas pasar el Albarán a CLiente?"/>
                        <button name="action_afacturac" type="object" string="Crear Factura de Proveedor FC20" attrs="{'invisible': ['|',('journal_id','!=',9),('albaranfacturado','=',True)]}"/>  
						<button name="action_afacturac" type="object" string="Volver a Facturar Albarán FC20" confirm="Este Albarán está marcado como Facturado. Estas Seguro de Volver a Generar una Factura de Proveedor" attrs="{'invisible': ['|',('journal_id','!=',9),('docresultante','=',False)]}"/>  
                        <button name="action_crearectificativanacompra" type="object" confirm="Esta accion Generará un ABONO para la Factura Presente. ¿Estas Seguro?" string="Genera Rectificativa" attrs="{'invisible': [('journal_id','!=',16)]}"/>  						
					   
					    <button name="action_crearectificativanacomprayab" type="object" confirm="Esta accion Generará un ABONO para la Factura Presente y Generará una Definitiva. ¿Estas Seguro?" string="Genera Abono y Definitiva" attrs="{'invisible': [('journal_id','!=',16)]}"/>  						
					
					<field name="state" widget="statusbar" statusbar_visible="draft,open,paid"/>
                </header>

                
				<div attrs="{'invisible': [('journal_id','!=',9)]}">
				<div class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('restobultosmal','!=',True)]}">
                    <center><bold><h2>EL Resultado de Bultos y Asignaciones Difiere. No podrás Validar sin quitar la Alerta.</h2></bold> 
					
					<field name="restobultosmal"/>
					
					</center>
                </div>
                </div>
                <div attrs="{'invisible': [('journal_id','!=',9)]}">
                <div class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('ctavtacompleto','!=',True)]}"><center>
                    <bold><a class="alert-link" href="#outstanding" role="button"><h1>CUENTAS DE VENTA REALIZADAS</h1></a></bold></center>
                </div>
                <div class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('sent','!=',True)]}"><center>
                    <bold><a class="alert-link" href="#outstanding" role="button"><h1>CUENTAS DE VENTA REALIZADAS y ENVIADAS</h1></a></bold></center>
                </div>
				</div>	

<div class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('bloqueapago','!=',True)]}"><center>
                    <bold><a class="alert-link" href="#outstanding" role="button"><h1>FACTURA CON PAGOS REALIZADOS</h1></a></bold></center>
                </div>	
                <div groups="account.group_account_invoice" class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('has_outstanding','=',False)]}">
                    You have <bold><a class="alert-link" href="#outstanding" role="button">outstanding debits</a></bold> for this supplier. You can allocate them to mark this bill as paid.
                </div>
                <field name="has_outstanding" invisible="1"/>
                <sheet string="Vendor Bill">
                    <div>
                        <label for="type_id" string="Draft Bill" attrs="{'invisible': ['|',('state','!=','draft'), ('type','!=','in_invoice')]}"/>
                        <label for="type_id" string="- First Number:" attrs="{'invisible': [('sequence_number_next_prefix','=',False)]}"/>
                        <label for="type_id" string="Draft Credit Note" attrs="{'invisible': ['|',('state','!=','draft'), ('type','!=','in_refund')]}"/>
                        <label for="type_id" string="Bill " attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','!=','in_invoice')]}"/>
                        <label for="type_id" string="Credit Note " attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','!=','in_refund')]}"/>
                        <h1 class="mt0">
                           
					<field name="expediente" invisible="1"/>
					<field name="expediente_serien" string="Exp" invisible="1"/>
					<field name="expediente_num" string="Num" invisible="1"/>	
							

                            <field name="number" class="oe_inline" attrs="{'invisible': [('state', '=', 'draft')]}"/>
                            <div attrs="{'invisible': [('sequence_number_next_prefix','=',False)]}">
                                <field name="sequence_number_next_prefix" class="oe_inline"/>
                                <field name="sequence_number_next" class="oe_inline"/>
                            </div>
                        </h1>
                    </div>
                    <field name="type" invisible="1"/>
					<field name="docresultante" readonly="1"/>
					<field name="albaranfacturado" invisible="1"/>
                    <group>
                        <group>
						     <field name="bloqueapago" invisible="1"/>
							<field name="reference"  string="Referencia Proveedor"/>
							

							<field name="dateinv_compra" string="Fecha Albarán" attrs="{'invisible': [('journal_id','!=', 9)]}"/>
							<field name="dateinv_compra" string="Fecha Factura" attrs="{'invisible': [('journal_id','=', 9)]}"/>

							<field name="date_invoice" string="Fecha Contable"  attrs="{'invisible': [('journal_id','=', 9)]}"/>
                            <field string="Proveedor" name="partner_id"  options="{'no_quick_create': True}" context="{'default_customer': 0, 'search_default_supplier': 1, 'default_supplier': 1, 'default_company_type': 'company'}" domain="[('supplier', '=', True)]"/>
							<field name="origin" attrs="{'invisible': [('origin', '=', False)]}"/>
							
							<field name="ctavtacompleto" invisible="1" attrs="{'invisible': [('journal_id', '!=', 9)]}"/>
							<field name="sent"  invisible="1" string="Cuenta de Ventas Enviada" attrs="{'invisible': [('journal_id', '!=', 9)]}"/>
							
							
                        </group>
                        <group>
                            <label for="expediente" string="Origen"/>
							<div>
                            <field name="expediente_serien" string="Serie" class="oe_inline"/>
							 <label for="expediente" string=" - " class="oe_inline"/>
							<field name="expediente" string="Num" class="oe_inline"/>
							</div>
                            <field name="expedientesdecompra" string="Exp. Origen" widget="many2many_tags"/>
							<field name="journal_id" options="{'no_create': True}" attrs="{'readonly':[('move_name','!=',False)]}"/>
							
							
                          
                            <field name="date_due" string="Vencimiento" attrs="{'invisible': [('journal_id','=', 9)]}"/>
                            <field name="move_name" invisible="1"/>
                            <field name="currency_id" options="{'no_create': True, 'no_open': True}" groups="base.group_multi_currency"/>
                            <field name="company_currency_id" invisible="1"/>
                            <field name="restobultosasignado" readonly="1" options="{'bg_color': 'red:restobultosmal== True'}" attrs="{'invisible': [('journal_id','!=',9)]}"/>
                            <label for="sumabultosalbasigo"  widget="integer"  string="Dif Bultos" attrs="{'invisible': [('journal_id','!=',9)]}"/>
							<div>
							   <field name="sumabultosalbasigo" readonly="1" widget="integer" class="oe_inline" attrs="{'invisible': [('journal_id','!=',9)]}"/>
							   <label for="sumabultosalbasiga" string=" / " class="oe_inline" attrs="{'invisible': [('journal_id','!=',9)]}"/>
							   <field name="sumabultosalbasiga" readonly="1" widget="integer" class="oe_inline" attrs="{'invisible': [('journal_id','!=',9)]}"/>
						       <button type="object" string="Suma Bultos" name="action_calcularestobultos"  class="oe_inline" attrs="{'invisible': [('journal_id','!=',9)]}"/>
							</div>

                        </group>
                    </group>
                    <notebook>
                        <page string="Lineas de Factura">
						<group>
						<button type="object" string="Dividir Albaran" name="dividiralbarancompra" attrs="{'invisible': [('journal_id','!=',9)]}" context="{'expediente': id}"/>
						<button type="object" string="Importar Lineas Compra" name="importarlineascompra" attrs="{'invisible': [('journal_id','!=',9)]}"/>
						<button type="object" string="Importar Lineas Albaranes" name="importarlineasalbaranesc" attrs="{'invisible': [('journal_id','=',9)]}"/>
				
						<!-- 
						<div>
					      <field name="buscaasignacionp" class="oe_inline" attrs="{'invisible': [('journal_id','!=',9)]}" options="{'no_create': True, 'no_create_edit':True}"/>
					     <button type="object" string=" + Añadir Linea" name="anyadirlinasigp" class="oe_inline" attrs="{'invisible': [('journal_id','!=',9)]}"/>
					    </div>
						-->
						</group>
						<button invisible="1" attrs="{'invisible': [('journal_id','!=', 16)]}" name="capturarlineascompraca" string="Capturar Lineas Albaranes" type="object" domain="[('journal_id','=',9),('state','=','draft')]" class="oe_highlight" context="{'partner_id': partner_id}"/>
						<button invisible="1" attrs="{'invisible': [('journal_id','=', 16)]}" name="capturarlineascompra" string="Capturar Lineas Compra Cargadas" type="object" domain="[('journal_id','=',9),('state','=','draft')]" class="oe_highlight" context="{'partner_id': partner_id}"/>

                            <field context="{'type': type, 'journal_id': journal_id}" name="invoice_line_ids">
                                <tree string="Bill lines">
                                    <field name="sequence" widget="handle"/>
									<field name="viajerel" string="Viaje"/>
									<field name="cargado" attrs="{'invisible': [('asignaroriginal','=', True)]}"/>
									<field name="asignaroriginal" invisible="1"/>
									<field name="asignarprimera" string="P" options="{'bg_color': 'green:asignarprimera== True'}"/>
									<field name="asignarnosale" string="NO ALB"/>
									<field name="ctavtarepasado" string="CV" attrs="{'invisible': [('asignaroriginal','=', True)]}"/>
									<field name="devolucion"  invisible="1" attrs="{'invisible': [('asignaroriginal','=', True)]}"/>
									<field name="basura" attrs="{'invisible': [('asignaroriginal','=', True)]}" options="{'bg_color': 'orange:basura== True'}"/>
                                    <field name="expediente_serien" string=""/>
									<field name="expediente_origen" string="Origen" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
                                    <field name="expediente" string="Destino" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
                                    <field name="product_id" invisible="1" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
									<field invisible="1" name="descripcioncajas" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
                                    <field name="name" invisible="1"/>
                                    <field name="variedad" string="Producto / Variedad" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
									<field name="confeccion" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
									<field name="calibre" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
									<field name="marca" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
									<field name="envase" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
									<field name="categoria" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
                                    <field name="company_id" invisible="1"/>
                                    <field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                                    <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
                                    <field name="cantidadpedido" widget="integer"  options="{'bg_color': 'pink:asignaroriginal== True'}"/>
									<field name="unidadpedido" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
									<field name="bultos" widget="integer"  string="BxP" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
									<field name="totalbultos" widget="integer" string="Bultos" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
									<field name="totalbultosprev" attrs="{'invisible': [('asignarprimera','!=', True)]}" options="{'bg_color': 'yellow:previstoserror== True'}" widget="integer" readonly="1" string="Previstos"/>
									<field name="previstoserror" attrs="{'invisible': [('asignarprimera','!=', True)]}"/>
									<field name="quedanbultos"  invisible="1" attrs="{'invisible': [('asignarprimera','!=', True)]}"/>
									<field name="asignarrestodviaje"/>
									<field name="obsbultos" options="{'bg_color': 'pink:asignaroriginal== True'}" invisible="1"/>
									<field name="envasecod" invisible="1"/>
									<field name="diariofactura" invisible="1"/>
									<button name="facturaifcos" string="Fact. IFCO" type="object"   attrs="{'invisible': [('envasecod', '!=', 'IFCO'),('diariofactura','!=',16)]}"/>
									<field name="asignarquedaran" string="Resto"  attrs="{'invisible': [('asignaroriginal', '=', True)]}" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
									<field name="quantity" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
									<field name="unidabulto" string="Ud" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
                                    <field name="uom_id" groups="product.group_uom" invisible="1"/>
                                    <field name="price_unit" string="Precio Ud" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
                                    <field name="discount" string="Dto%" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
                                    <field invisible="1" name="invoice_line_tax_ids" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
                                    <field name="price_subtotal" string="SUbTotal" options="{'bg_color': 'pink:asignaroriginal== True'}"/>
                                    <field name="currency_id" invisible="1"/>
                                </tree>
							
																<form>
				  <sheet>
 <div class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('asignaroriginal','!=',True)]}"><center>
                    <bold><a class="alert-link" href="#outstanding" role="button">Linea Asignada a Venta NO de Albarán de Compra</a></bold></center>
                </div>				 
 



				 <group>
					<group>
					 <field name="plantilla"  domain="[('noactivo', '!=', True)]"  required="1" options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="product_id" options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="variedad"  options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="calibre"  options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="categoria"  options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="confeccion"  options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="envase"  options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="marca"  options="{'no_create': True, 'no_create_edit':True}"/>
					  <field name="bultos" widget="integer" />
					  <field name="kgnetbulto"/>
					  <field name="unidadesporbulto"/>
					  <field name="totalbultos" widget="integer" options="{'bg_color': 'yellow:previstoserror== True'}"/>
					  <field name="totalbultosprev" widget="integer" readonly="1" options="{'bg_color': 'yellow:previstoserror== True'}"/>
					  <field name="obsbultos"/>
					  <field name="descripcioncajas" string="Cajas/Prod" readonly="1"/>
					</group>
				  <group>
				  <field name="expediente_serien" readonly="1"/>
				  <field name="expediente" options="{'no_create': True, 'no_create_edit':True}"/>
				  <label for="cantidadpedido"/>
				  <div>
					<field name="cantidadpedido" widget="integer" class="oe_inline"/>
					<field name="unidadpedido" options="{'no_create': True, 'no_create_edit':True}" class="oe_inline"/>
				  </div>
					<separator colspan="2" string="Pedido Jovimer"/>
					<label for="unidabultoj"/>
					<div>
					 <field name="unidabultoj" class="oe_inline" options="{'no_create': True, 'no_create_edit':True}" readonly="1"/>
					 <button invisible="1" name="calcula_cantidad" icon="fa-spinner" type="object" string="" class="oe-inline"/>
					</div>
					<field name="cantidadj" readonly="1"/>
					<field name="subtotalj" readonly="1"/>
					<separator colspan="2" string="Albarán Jovimer"/>
					<label for="unidabulto" string="Albarán Jovimer"/>
					<div>
					 <field name="unidabulto" class="oe_inline" options="{'no_create': True, 'no_create_edit':True}"/>
					 <button name="calcula_cantidad" icon="fa-spinner" type="object" string="" class="oe-inline"/>
					</div>

					<field name="quantity"/> 
                    <field name="unidabulto"/>
 
					<field name="uom_id" options="{'no_create': True, 'no_create_edit':True}"/>
					<field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                    <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
                    <field name="price_unit"/>
                    <field name="discount"/>
                    
                    <field name="price_subtotal"/>
                    <field name="currency_id" invisible="1"/>
					<field name="devolucion"/>
					<field name="basura"/>
					<field name="diariofactura" invisible="1"/>
				  </group>
				  </group> 
				  <group>
				   <field name="name"/>
				  </group>
				  <notebook>
				  <page string="Más Información">
				  <group> <group string="Trazabilidad">
				  <field name="lineacompra" readonly="1"/>
				    <field name="lineaventa" readonly="1"/>
				    <field name="albvtadestinolin" readonly="1"/>
				  </group> 
				  <group string="Almacén">
				       <field name="viajerel" readonly="1"/>
				       <field name="cargado" readonly="1" attrs="{'invisible': [('asignaroriginal','=',True)]}"/>
					   <field name="cargado_por" readonly="1" attrs="{'invisible': [('asignaroriginal','=',True)]}"/>
					   <field name="cargado_cuandot" readonly="1" attrs="{'invisible': [('asignaroriginal','=',True)]}"/>	
					   <button string=" [ D E S C A R G A R ]" confirm="Estas Seguro que deseas DESCARGAR la Linea" name="action_cargarlinea" type="object" attrs="{'invisible': [('cargado','!=', True),('asignaroriginal','=',True)]}"/>
					   <button string=" [ C A R G A R  ] " confirm="Estas Seguro que deseas CARGAR la Linea" name="action_cargarlinea" type="object" attrs="{'invisible': [('cargado','=', True),('asignaroriginal','=',True)]}"/>					   
				  </group>
				  </group>
				  </page>

				  	<page string="Reclamaciones">
					 <field name="statusrecla" invisible="1"/>
					 <button name="action_crearreclamacionacc" string="Abrir Reclamación"  attrs="{'invisible': [('statusrecla', '!=', 'OK')]}" type="object" confirm="Esta accion detendrá el Flujo del Presente Documento. ¿Estás Seguro?"/> 
					 <button name="action_cerrarreclamacion" string="Cerrar Reclamación"  attrs="{'invisible': [('statusrecla', '=', 'OK')]}" type="object" confirm="Esta accion cerrará la Reclamación. ¿Estás Seguro?"/> 
					 <br/>
					 <field name="reclamaciones"/>
				  </page>
				  
				  <page string="Asignaciones" attrs="{'invisible': [('albvtadestinolin', '!=', False)]}">
					<group> 
					   <group string="Asignar Linea" colspan="2" >
					    <field name="asignarnosale" string="La Linea NO saldrá pendiente en Albaranes de Cliente"/>					   
					   <field name="diariofactura" invisible="1"/>
					   <field name="asignaroriginal"/>
					   <field name="asignarmadre" attrs="{'invisible': [('asignaroriginal', '!=', True)], 'required': [('asignaroriginal','=', True),('diariofactura','=', 9)]}"/>
						<field name="asignarexpediente_serien"/>
						<field name="asignarexpediente" attrs="{'invisible': [('asignaroriginal', '=', True)]}" options="{'no_create': True, 'no_create_edit':True}"/>
						<field name="asignarpartner" readonly="1"/>

						<label for="asignarcantidad"/>
						<div>
						 <field name="asignarcantidad" class="oe_inline"/>
						  <field name="asignarunidad" class="oe_inline" options="{'no_create': True, 'no_create_edit':True}"/>
						</div>
					    <field name="asignarquedaran" readonly="1"/>
					    <field name="asignarquedaranbultos" readonly="1"/>
					   <button name="asignarduplicalinea" string="Asignar" type="object"/>
					   </group>
					   
					   <group string="Copiar Linea">
					   <button name="duplicalinea" string="Duplica Linea" type="object"/>
					   </group>

					   <group string="Trasladar a Otro Albaran">
					      <field name="trasladaalbaran" options="{'no_create': True}" context="{'tree_view_ref': 'jovimer_facturas_prova_view_tree'}">
						  </field>
					      <button name="trasladaotroalbaran" string="Traslada" type="object" confirm="Esta acción NO es reversible. ¿Estas Seguro?"/>
					   </group>

					   
					</group>					 
				  </page>
                  <page string="Basura" attrs="{'invisible': [('asignaroriginal','=', True)]}">
					<group>
					   <button name="duplicalineaymarcabasura" string="Basura" type="object" attrs="{'invisible': ['|',('basuralineadestino', '!=', False),('basuralineamadre', '!=', False),('basura', '=', True)]}"/>
					   <field name="basuralineamadre" readonly="1" attrs="{'invisible': [('basura', '!=', True)]}"/>
					   <field name="basuralineadestino" readonly="1" attrs="{'invisible': [('basura', '=', True)]}"/>					
					
					</group>					 
				  </page>					 				  
				  <page string="Devoluciones y Asignaciones" attrs="{'invisible': [('albvtadestinolin', '=', False)]}">
					<group>
					   <group string="EL Albarán Figura como Entregado y no se puede Asignar" colspan="2" >
						 <field name="albvtadestinolin" readonly="1"/>
						 <field name="albvtadestino" readonly="1"/>
						 <field name="asignarmadre" options="{'no_create': True}" domain="[('asignaroriginal','=',False),('invoice_id','=',parent.id)]"/>
                       </group>
					    <group string="Trasladar a Otro Albaran">
					      <field name="trasladaalbaran" options="{'no_create': True}" context="{'tree_view_ref': 'jovimer_facturas_prova_view_tree'}">
						  </field>
					      <button name="trasladaotroalbaran" string="Traslada" type="object" confirm="Esta acción NO es reversible. ¿Estas Seguro?"/>
					   </group>
					</group>					 
				  </page>
				  
				  
				  
				  	<page string="Impuestos">
					 <!-- <field name="invoice_line_tax_ids" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/> -->

					 <field name="invoice_line_tax_ids"/>
					 <button string=" [ C A R G A R  PEPE ] " name="action_cargarlinea2" type="object" attrs="{'invisible': [('cargado','=', True),('asignaroriginal','=',True)]}"/>					   
					 <button string=" [ D E S C A R G A R  PEPE ] " name="action_cargarlinea2" type="object" attrs="{'invisible': [('cargado','!=', True),('asignaroriginal','=',True)]}"/>				   
				  </page>
				  	<page string="Cuentas de Venta" attrs="{'invisible': [('asignaroriginal', '!=', True),('diariofactura', '!=', 9)]}">
						<field name="statusrecla" readonly="1"/>
						<field name="ctavtarepasado" string="R" attrs="{'invisible': [('statusrecla','=','RECLAMADA')]}"/>
                        <field name="fechactavtarepasado" attrs="{'invisible': [('statusrecla','=','RECLAMADA')]}" string=" "/>
						<button name="action_cuentaventarepasado" type="object" string="Repasado" attrs="{'invisible': ['|',('ctavtarepasado','=',True),('statusrecla','=','RECLAMADA'),('devolucion','=',True)]}"/>
				     </page>
				  </notebook>
				  </sheet>
								
								</form>
								
								
                            </field>

							<group>
                            <group string="Abonos">
							 		<field name="modorecti"/>
									<label for="rectificasubtotal"/>
									<div>
									 <field name="rectificasubtotal" class="oe_inline" attrs="{'invisible': [('state', '=', 'draft')]}"/>
									 <button  class="oe_inline oe_highlight" attrs="{'invisible': ['|',('rectificafactres', '=', False),('modorecti', '=', 'False'),('state', '=', 'draft')]}" name="crearectificasubtotal" type="object" string="Rectifica" confirm="Esto Generará una Factura de Compra Rectificativa por la Diferencia. ¿Estas Seguro?"/>
									</div>
									<field name="rectificafactres" readonly="1" class="oe_inline"/>
									<field name="rectificafactres2" readonly="1" class="oe_inline"/>
							</group>
                                <group class="oe_subtotal_footer oe_right">
                                    <field name="totalpalets" invisible="1"/>
									<field name="totalkg" invisible="1"/>
									<field name="totalbltkg" invisible="1"/>
									<!-- button name="_compute_amount" type="object" string="C"/ -->
                                    <field name="amount_untaxed"/>
                                    <field name="amount_tax"/>
									<field name="taxrecal" invisible="1"/>

									<!-- <label for="rectificasubtotal" string="Redondeo BASE"/>                                    
									<div>
									<field name="totalesmanuales" attrs="{'readonly': [('state', 'not in', ('cancel','draft'))]}"/>
									<button confirm="Esto quitará los valores de redondeo y permitira que puedas volver al recalculo original. ¿Estas Seguro?." string="Quitar" type="object" name="quita_totalesmanuales" attrs="{'invisible': [('totalesmanuales', '!=', True)]}"/>
									</div>
									<label for="rectificasubtotal" string="Redondeo BASE"/>
									<div>
									    <button attrs="{'invisible': [('state', 'not in', ('cancel','draft'))]}" name="rest1cenbase" string="-" type="object" class="oe_inline"/>
									    <button attrs="{'invisible': [('state', 'not in', ('cancel','draft'))]}" name="suma1centbase" string="+" type="object" class="oe_inline"/>
									</div>
									<label for="rectificasubtotal" string="Redondeo IVA"/>
									<div>
									    <button attrs="{'invisible': [('state', 'not in', ('cancel','draft'))]}" name="rest1centiva" string="-" type="object" class="oe_inline"/>
									    <button attrs="{'invisible': [('state', 'not in', ('cancel','draft'))]}" name="suma1centiva" string="+" type="object" class="oe_inline"/>
									</div>
									-->
                                    <field name="amount_total" class="oe_subtotal_footer_separator"/>

									
                                     <field  invisible="1" name="payments_widget" colspan="2" nolabel="1" widget="payment"/>
                                    <field  invisible="1" name="residual" class="oe_subtotal_footer_separator" attrs="{'invisible': [('state', '=', 'draft')]}"/>
                                    <field name="reconciled" invisible="1"/>
                                    <field  invisible="1" name="outstanding_credits_debits_widget" colspan="2" nolabel="1" widget="payment" attrs="{'invisible': [('state', 'not in', 'open')]}"/>
                                </group>
                            </group>
                            <div>
                                <field name="comment" placeholder="Additional notes..."/>
                            </div>
                        </page>
						
						

						<page string="Lineas Compra" attrs="{'invisible': [('journal_id', '!=', 9)]}">
						<field name="lineascompraalb"/>
						
						</page>
						
                        <page string="Más Informacion" name="other_info">
													<group string="Descripcion de Impuestos">
							
                                        <field name="tax_line_ids" attrs="{'readonly': [('state', '!=', 'draft')]}">
                                            <tree editable="bottom" string="Taxes">
                                                <field name="name"/>
                                                <!--Need invisible fields for on_change to create all necessary info -->
                                                <field name="tax_id" options="{'no_quick_create': True}" />
                                                <field name="sequence" invisible="1"/>
                                                <field name="manual" invisible="1"/>
												<field name="state"/>
                                                <field name="account_id"  invisible="1" options="{'no_quick_create': True}"/>
                                                <field name="account_analytic_id" domain="[('company_id', '=', parent.company_id)]" groups="analytic.group_analytic_accounting"/>
                                                <button name="rest1cent" string=" - " type="object"  attrs="{'invisible': [('state', '!=', 'draft')]}"/>
												<field name="base" style="text-align: center"/>
												<button name="sum1cent" string=" + " type="object" attrs="{'invisible': [('state', '!=', 'draft')]}"/>
												<field name="amount" attrs="{'readonly': [('state', '!=', 'draft')]}"/>
                                                <field name="amount_rounding" invisible="1"/>
                                                <field name="amount_total" invisible="1"/>
                                                <field name="currency_id" invisible="1"/>
                                            </tree>
                                        </field>
                                   
								   <field name="albaranfacturado" attrs="{'invisible': [('journal_id', '!=', 9)]}"/>
								   <field name="fechaalbaranfacturado" attrs="{'invisible': [('journal_id', '!=', 9)]}"/>
								   <!-- 
								   <field name="create_date" readonly="1"/>
								   <field name="create_uid" readonly="1"/>
								   <field name="write_date" readonly="1"/>
								   <field name="write_uid" readonly="1"/>
								   -->
								   
								   
									</group>	
							<group>
                                <group>
                                    <field name="id"/>
									
                                    <field domain="[('partner_id', '=', partner_id)]" name="partner_bank_id"/>
                                    <field name="user_id" string="Responsable" options="{'no_create': True}" />
                                    <field options="{'no_create': True}" domain="[('company_id', '=', company_id), ('internal_type', '=', 'payable'), ('deprecated', '=', False)]" name="account_id"/>
                                    <field name="payment_term_id" options="{'no_create': True}"/>
                                    <field name="name"/>
									<field name="bloqueapago" readonly="1"/>
									<field name="traspasocont"/>
									<field name="traspasocontfecha"/>
                                </group>
                                <group>
									<field name="amount_untaxed" />
									<field name="amount_tax" />
									<field name="amount_total" />
									<label for="totalesmanuales"/>
									<div>
									  <field name="totalesmanuales" readonly="1" class="oe_inline"/>
									  <label for="totalesmanuales" string=" "/> 
									  <button type="object" string="Quita redondeo"  class="oe_inline" name="recalcimpuestos"  attrs="{'invisible': [('state', '!=', 'draft')]}"/>
                                    </div>
									<label for="fiscal_position_id"/>
									<div>
									<field name="fiscal_position_id" options="{'no_create': True}" placeholder="Auto-detect" class="oe-inline"/>
									 <button name="reload_fiscal_position" icon="fa-gear" type="object" string="Recalcula Impuestos" class="oe-inline"  attrs="{'invisible': [('fiscal_position_id', '!=', 2)]}"/>     
									
                                    </div>
									<field name="move_id" groups="account.group_account_user" attrs="{'invisible': [('move_id', '=', False)]}"/>
                                    <field name="date" domain="[('state', '=', 'draft'), ('company_id', '=', company_id)]" groups="account.group_account_user"/>
                                    <field name="company_id" options="{'no_create': True}" groups="base.group_multi_company"/>
									<field name="modologocontatrans"/>
									<field name="modologocontatranssiniva"/>
									<field name="modologocontasujpa"/>
									<field name="modologocontamerca"/>
									<field name="modologocontamercasp"/>
									<field name="modologocontamercain"/>
                                </group>
                            </group>
  					</page>
					
					<page string="Cadena de Facturas">
					<group><group>
					<field name="cadenafactcomprar"/>
					</group></group>
					<group string="Facturas Anexas">
					<field name="cadenafactcompra">
					
					  <tree>
					   <field name="expedientesdecompra" widget="many2many_tags"/>
					   <field name="expediente" invisible="1"/>
					<field invisible="1" name="expediente_serien" string="Exp"/>
					<field invisible="1" name="expediente_num" string="Num"/>	
					<field name="journal_id" string="Fecha Factura" invisible="1"/>
					<field name="date_invoice" string="Fecha Factura"/>					
					<field name="number" string="Referencia Interna"/>
					<field name="reference" string="Referencia Proveedor"/>
					<field name="partner_id" string="Proveedor"/>
                    <field name="date_due" invisible="1"/>
                    <field name="origin" string="Doc Origen"/>
                    <field name="amount_untaxed" string="Base Imponible" sum="Total"/>
                    <field name="amount_tax" string="Impuestos" sum="Total"/>
                    <field name="amount_total" string="Total" sum="Total"/>
                    <field name="residual_signed" string="Pendiente" sum="To pay" invisible="1"/>
                    <field name="currency_id"/>
                    <field name="company_currency_id" invisible="1"/>
                    <field name="state" invisible="1"/>
                    <field name="type" invisible="context.get('type',True)"/>
					  </tree>
					
					</field>
					</group>
					
					</page>
					<page string="Pagos">
					<group>
                       <!-- <field name="listapago" readonly="1"/> -->
					</group>
					</page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                </form>
           </field>
    </record>  






 <record model="ir.ui.view" id="jovimer_facturas_trans_view_form">
      <field name="name">Pyme - Facturas Transportista</field>
      <field name="model">account.invoice</field>
      <field name="arch" type="xml">
  
  <form string="Facturas Transportista" create="false">
                <header>
                        <button name="action_invoice_open" type="object" states="draft" string="Validate" class="oe_highlight" groups="account.group_account_invoice"/>
                        <button name="150" type="action" states="open" string="Registrar Pago" groups="account.group_account_invoice" class="oe_highlight"/>
                        <button name="213" type="action" string="Realizar Factura Rectificativa" groups="account.group_account_invoice" attrs="{'invisible': ['|',('type', 'in', ['in_refund','out_refund']),('state','not in',('open','paid'))]}"/>
                        <button name="action_invoice_draft" states="cancel" string="Volver a Activo" type="object" groups="account.group_account_invoice"/>
						<button name="action_invoice_cancel_pyme" type="object" states="draft,open,paid" string="Cancelar Documento" groups="account.group_account_invoice"/>
						<button name="clean_internal_number" string="Limpiar Número de Factura" attrs="{'invisible':['|',('state','!=','cancel'),('move_name','=',False)]}" type="object" help="Limpiar Numero Interno Permite eliminar la Factura, pero eso puede provocar un salto en la numeración. Deberás ir a series de Documentos de Facturas para ver el siguiente número que otorgará"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,open,paid"/>
                </header>
                <div groups="account.group_account_invoice" class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('has_outstanding','=',False)]}">
                    You have <bold><a class="alert-link" href="#outstanding" role="button">outstanding debits</a></bold> for this supplier. You can allocate them to mark this bill as paid.
                </div>
                <field name="has_outstanding" invisible="1"/>
                <sheet string="Vendor Bill">
                    <div>
                        <label for="type_id" string="Draft Bill" attrs="{'invisible': ['|',('state','!=','draft'), ('type','!=','in_invoice')]}"/>
                        <label for="type_id" string="- First Number:" attrs="{'invisible': [('sequence_number_next_prefix','=',False)]}"/>
                        <label for="type_id" string="Draft Credit Note" attrs="{'invisible': ['|',('state','!=','draft'), ('type','!=','in_refund')]}"/>
                        <label for="type_id" string="Bill " attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','!=','in_invoice')]}"/>
                        <label for="type_id" string="Credit Note " attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','!=','in_refund')]}"/>
                        <h1 class="mt0">
                            
							
                    <!--        
					<field name="expediente" invisible="1"/>
					<field name="expediente_serien" string="Exp"/>
					<field name="expediente_num" string="Num"/>	
						-->								
							
							<field name="number" class="oe_inline" attrs="{'invisible': [('state', '=', 'draft')]}"/>
                            <div attrs="{'invisible': [('sequence_number_next_prefix','=',False)]}">
                                <field name="sequence_number_next_prefix" class="oe_inline"/>
                                <field name="sequence_number_next" class="oe_inline"/>
                            </div>
                        </h1>
                    </div>
                    <field name="type" invisible="1"/>
                    <group>
                        <group>
                            <field name="reference"  string="Referencia Transportista"/>
					        <field name="dateinv_compra"/>
                            <field name="date_invoice" string="Fecha Contable"/>
                            <field name="date_due" string="Vencimiento" attrs="{'readonly': [('payment_term_id','!=',False)]}"/>						
                            
                        </group>
                        <group>
						    <field string="Transportista" name="partner_id" context="{'default_customer': 0, 'search_default_supplier': 1, 'default_supplier': 1, 'default_company_type': 'company'}" domain="[('supplier', '=', True)]"/>
                            <field name="journal_id" options="{'no_create': True}" attrs="{'readonly':[('move_name','!=',False)]}"/>
							<field name="origin" attrs="{'invisible': [('origin', '=', False)]}"/>

                            <field name="move_name" invisible="1"/>
                            <field name="currency_id" options="{'no_create': True, 'no_open': True}" groups="base.group_multi_currency"/>
                            <field name="company_currency_id" invisible="1"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Lineas de Factura">
                            <field context="{'type': type, 'journal_id': journal_id}" name="invoice_line_ids">
                                <tree string="Bill lines" editable="bottom">

                                    <field name="sequence" widget="handle"/>
									<field name="expediente_serien" string="Exp"/>
									<field name="expediente" string="Num" options="{'no_create': True, 'no_create_edit':True}"/>
									<field name="viaje" options="{'no_create': True, 'no_create_edit':True}"/>
                                    <field name="product_id" options="{'no_create': True, 'no_create_edit':True}" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
                                    <field name="name"/>
                                    <field name="company_id" invisible="1"/>
                                    <field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                                    <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
                                    <field name="quantity"/>
                                    <field name="uom_id" groups="product.group_uom"/>
                                    <field name="price_unit"/>
                                    <field name="discount" groups="base.group_no_one"/>
                                    <field name="invoice_line_tax_ids" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
                                    <field name="price_subtotal"/>
                                    <field name="currency_id" invisible="1"/>
                                </tree>
								
								
								<form string="Bill lines">
								<group><group>

                                    
									<field name="viaje"/>
                                    <field name="product_id" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
                                    <field name="name"/>
                                    <field name="company_id" invisible="1"/>
                                    <field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                                    </group><group>
									
									<field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
                                    <field name="quantity"/>
                                    <field name="uom_id" groups="product.group_uom"/>
                                    <field name="price_unit"/>
                                    <field name="discount" groups="base.group_no_one"/>
                                    <field name="invoice_line_tax_ids" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
                                    <field name="price_subtotal"/>
                                    <field name="currency_id" invisible="1"/>
                                </group></group>
								</form>
								
								

                            </field>
                            <group>
                                <group class="oe_subtotal_footer oe_right">
                                    <button string="C" name="recalculatotal" type="object"/>
									<field name="amount_untaxed"/>
                                    <field name="amount_tax"/>
                                    <field name="amount_total" class="oe_subtotal_footer_separator"/>
                                    <field name="payments_widget" colspan="2" nolabel="1" widget="payment"/>
                                    <field name="residual" class="oe_subtotal_footer_separator" attrs="{'invisible': [('state', '=', 'draft')]}"/>
                                    <field name="reconciled" invisible="1"/>
                                    <field name="outstanding_credits_debits_widget" colspan="2" nolabel="1" widget="payment" attrs="{'invisible': [('state', 'not in', 'open')]}"/>
                                </group>
                            </group>
                            <div>
                                <field name="comment" placeholder="Additional notes..."/>
                            </div>
                        </page>
						 <page string="Órdenes de Carga" name="trans">
						 <group>
                                <group string="Orden de Carga Nacional">
									<field name="ordendecarganac"/>
								</group>
								<group string="Orden de Carga Internacional">
									<field name="ordendecargaint"/>
								</group>
						 </group>
						  </page>
                        <page string="Más Informacion" name="other_info">
													<group string="Descripcion de Impuestos">
							
                                        <field name="tax_line_ids">
                                            <tree editable="bottom" string="Taxes">
                                                <field name="name"/>
                                                <!--Need invisible fields for on_change to create all necessary info -->
                                                <field name="tax_id" invisible="1"/>
                                                <field name="sequence" invisible="1"/>
                                                <field name="manual" invisible="1"/>
                                                <field name="account_id" groups="account.group_account_user"/>
                                                <field name="account_analytic_id" domain="[('company_id', '=', parent.company_id)]" groups="analytic.group_analytic_accounting"/>
                                                <field name="amount"/>
                                                <field name="amount_rounding" invisible="1"/>
                                                <field name="amount_total" invisible="1"/>
                                                <field name="currency_id" invisible="1"/>
                                            </tree>
                                        </field>
                                   
									</group>	
							<group>
                                <group>
                                    
                                    <field domain="[('partner_id', '=', partner_id)]" name="partner_bank_id" invisible="1"/>
                                    <field name="user_id" string="Responsible"/>
                                    <field domain="[('company_id', '=', company_id), ('internal_type', '=', 'payable'), ('deprecated', '=', False)]" name="account_id" groups="account.group_account_user"/>
                                    <field name="payment_term_id" options="{'no_create': True}"/>
                                    <field name="name"/>
                                </group>
                                <group>
                                    <field name="fiscal_position_id" options="{'no_create': True}" placeholder="Auto-detect"/>
                                    <field name="move_id" groups="account.group_account_user" attrs="{'invisible': [('move_id', '=', False)]}"/>
                                    <field name="date" domain="[('state', '=', 'draft'), ('company_id', '=', company_id)]" groups="account.group_account_user"/>
                                    <field name="company_id" options="{'no_create': True}" groups="base.group_multi_company"/>
                                </group>
                            </group>
  					</page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                </form>
           </field>
    </record>  



 <record model="ir.ui.view" id="jovimer_facturas_sproviding_view_form">
      <field name="name">Pyme - Facturas Service Providing</field>
      <field name="model">account.invoice</field>
      <field name="arch" type="xml">
  
  <form string="Facturas Transportista" create="false">
                <header>
                        <button name="action_invoice_open" type="object" states="draft" string="Validate" class="oe_highlight" groups="account.group_account_invoice"/>
                        <button name="150" type="action" states="open" string="Registrar Pago" groups="account.group_account_invoice" class="oe_highlight"/>
                        <button name="213" type="action" string="Realizar Factura Rectificativa" groups="account.group_account_invoice" attrs="{'invisible': ['|',('type', 'in', ['in_refund','out_refund']),('state','not in',('open','paid'))]}"/>
                        <button name="action_invoice_draft" states="cancel" string="Volver a Activo" type="object" groups="account.group_account_invoice"/>
						<button name="action_invoice_cancel_pyme" type="object" states="draft,open,paid" string="Cancelar Documento" groups="account.group_account_invoice"/>
						<button name="clean_internal_number" string="Limpiar Número de Factura" attrs="{'invisible':['|',('state','!=','cancel'),('move_name','=',False)]}" type="object" help="Limpiar Numero Interno Permite eliminar la Factura, pero eso puede provocar un salto en la numeración. Deberás ir a series de Documentos de Facturas para ver el siguiente número que otorgará"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,open,paid"/>
                </header>
				<!-- 
                <div groups="account.group_account_invoice" class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('has_outstanding','=',False)]}">
                    You have <bold><a class="alert-link" href="#outstanding" role="button">outstanding debits</a></bold> for this supplier. You can allocate them to mark this bill as paid.
                </div>
                <field name="has_outstanding" invisible="1"/>
				-->
                <sheet string="Vendor Bill">
                    <div>
                        <label for="type_id" string="Draft Bill" attrs="{'invisible': ['|',('state','!=','draft'), ('type','!=','in_invoice')]}"/>
                        <label for="type_id" string="- First Number:" attrs="{'invisible': [('sequence_number_next_prefix','=',False)]}"/>
                        <label for="type_id" string="Draft Credit Note" attrs="{'invisible': ['|',('state','!=','draft'), ('type','!=','in_refund')]}"/>
                        <label for="type_id" string="Bill " attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','!=','in_invoice')]}"/>
                        <label for="type_id" string="Credit Note " attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','!=','in_refund')]}"/>
                        <h1 class="mt0">
                            
							
                    <!--        
					<field name="expediente" invisible="1"/>
					<field name="expediente_serien" string="Exp"/>
					<field name="expediente_num" string="Num"/>	
						-->								
							
							<field name="number" class="oe_inline" attrs="{'invisible': [('state', '=', 'draft')]}"/>
                            <div attrs="{'invisible': [('sequence_number_next_prefix','=',False)]}">
                                <field name="sequence_number_next_prefix" class="oe_inline"/>
                                <field name="sequence_number_next" class="oe_inline"/>
                            </div>
                        </h1>
                    </div>
                    <field name="type" invisible="1"/>
                    <group>
                        <group>
						    <field string="Proveedor" name="partner_id" context="{'default_customer': 0, 'search_default_supplier': 1, 'default_supplier': 1, 'default_company_type': 'company'}" domain="[('supplier', '=', True)]"/>
                            <field name="reference"  string="Referencia"/>
					        <field name="dateinv_compra"/>
                            <field name="date_invoice" string="Fecha Contable"/>
                            						
                            
                        </group>
                        <group>
						    
                            <field name="journal_id" options="{'no_create': True}" attrs="{'readonly':[('move_name','!=',False)]}"/>
							<field name="origin" attrs="{'invisible': [('origin', '=', False)]}"/>
							<field name="fiscal_position_id"/>
							<field name="date_due" string="Vencimiento" attrs="{'readonly': [('payment_term_id','!=',False)]}"/>

                            <field name="move_name" invisible="1"/>
                            <field name="currency_id" options="{'no_create': True, 'no_open': True}" groups="base.group_multi_currency"/>
                            <field name="company_currency_id" invisible="1"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Lineas de Factura">
                            <field context="{'type': type, 'journal_id': journal_id}" name="invoice_line_ids">
                                <tree string="Bill lines" editable="bottom">

                                    <field name="sequence" widget="handle"/>
									<field name="expediente_serien" string="Exp"/>
									<field name="expediente" required="1" string="Num" options="{'no_create': True, 'no_create_edit':True}"/>
									<field name="docqueorigina" options="{'no_create': True, 'no_create_edit':True}" domain="[('expediente','=', expediente)]"/>
									<field name="viaje" options="{'no_create': True, 'no_create_edit':True}"/>
                                    <field name="product_id" required="1" options="{'no_create': True, 'no_create_edit':True}" context="{'partner_id': parent.partner_id}" domain="[('x_esproviding','=',True)]"/>
                                    <field name="name"/>
                                    <field name="company_id" invisible="1"/>
                                    <field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                                    <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
                                    <field name="quantity"/>
                                    <field name="uom_id" groups="product.group_uom"/>
                                    <field name="price_unit"/>
                                    <field name="discount" groups="base.group_no_one"/>
                                    <field name="invoice_line_tax_ids" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
                                    <field name="price_subtotal"/>
                                    <field name="currency_id" invisible="1"/>
                                </tree>
								
								
								<form string="Bill lines">
								<group><group>

                                    
									<field name="viaje"/>
                                    <field name="product_id" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
                                    <field name="name"/>
                                    <field name="company_id" invisible="1"/>
                                    <field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                                    </group><group>
									
									<field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
                                    <field name="quantity"/>
                                    <field name="uom_id" groups="product.group_uom"/>
                                    <field name="price_unit"/>
                                    <field name="discount" groups="base.group_no_one"/>
                                    <field name="invoice_line_tax_ids" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
                                    <field name="price_subtotal"/>
                                    <field name="currency_id" invisible="1"/>
                                </group></group>
								</form>
								
								

                            </field>
                            <group>
                                <group class="oe_subtotal_footer oe_right">
                                    <button string="C" name="recalculatotal" type="object"/>
									<field name="amount_untaxed"/>
                                    <field name="amount_tax"/>
                                    <field name="amount_total" class="oe_subtotal_footer_separator"/>
                                    <field name="payments_widget" colspan="2" nolabel="1" widget="payment"/>
                                    <field name="residual" class="oe_subtotal_footer_separator" attrs="{'invisible': [('state', '=', 'draft')]}"/>
                                    <field name="reconciled" invisible="1"/>
                                    <!-- <field name="outstanding_credits_debits_widget" colspan="2" nolabel="1" widget="payment" attrs="{'invisible': [('state', 'not in', 'open')]}"/> -->
                                </group>
                            </group>
                            <div>
                                <field name="comment" placeholder="Additional notes..."/>
                            </div>
                        </page>
						 <page string="Órdenes de Carga" name="trans">
						 <group>
                                <group string="Orden de Carga Nacional">
									<field name="ordendecarganac"/>
								</group>
								<group string="Orden de Carga Internacional">
									<field name="ordendecargaint"/>
								</group>
						 </group>
						  </page>
                        <page string="Más Informacion" name="other_info">
													<group string="Descripcion de Impuestos">
							
                                        <field name="tax_line_ids">
                                            <tree editable="bottom" string="Taxes">
                                                <field name="name"/>
                                                <!--Need invisible fields for on_change to create all necessary info -->
                                                <field name="tax_id" invisible="1"/>
                                                <field name="sequence" invisible="1"/>
                                                <field name="manual" invisible="1"/>
                                                <field name="account_id" groups="account.group_account_user"/>
                                                <field name="account_analytic_id" domain="[('company_id', '=', parent.company_id)]" groups="analytic.group_analytic_accounting"/>
                                                <field name="amount"/>
                                                <field name="amount_rounding" invisible="1"/>
                                                <field name="amount_total" invisible="1"/>
                                                <field name="currency_id" invisible="1"/>
                                            </tree>
                                        </field>
                                   
									</group>	
							<group>
                                <group>
                                    
                                    <field domain="[('partner_id', '=', partner_id)]" name="partner_bank_id" invisible="1"/>
                                    <field name="user_id" string="Responsible"/>
                                    <field domain="[('company_id', '=', company_id), ('internal_type', '=', 'payable'), ('deprecated', '=', False)]" name="account_id" groups="account.group_account_user"/>
                                    <field name="payment_term_id" options="{'no_create': True}"/>
                                    <field name="name"/>
                                </group>
                                <group>
                                    <field name="fiscal_position_id" options="{'no_create': True}" placeholder="Auto-detect"/>
                                    <field name="move_id" groups="account.group_account_user" attrs="{'invisible': [('move_id', '=', False)]}"/>
                                    <field name="date" domain="[('state', '=', 'draft'), ('company_id', '=', company_id)]" groups="account.group_account_user"/>
                                    <field name="company_id" options="{'no_create': True}" groups="base.group_multi_company"/>
																		<field name="modologocontatrans"/>
									<field name="modologocontatranssiniva"/>
									<field name="modologocontasujpa"/>
									<field name="modologocontamerca"/>
									<field name="modologocontamercasp"/>
									<field name="modologocontamercain"/>
                                </group>
                            </group>
  					</page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                </form>
           </field>
    </record>  


   <record model="ir.ui.view" id="jovimer_facturas_acre_view_form">
      <field name="name">Pyme - Facturas Acreedor</field>
      <field name="model">account.invoice</field>
      <field name="arch" type="xml">
  
  <form string="Facturas Acreedor">
                <header>
                        <button name="action_invoice_open" type="object" states="draft" string="Validate" class="oe_highlight" groups="account.group_account_invoice"/>
                        <button name="150" type="action" states="open" string="Registrar Pago" groups="account.group_account_invoice" class="oe_highlight"/>
                        <button name="213" type="action" string="Realizar Factura Rectificativa" groups="account.group_account_invoice" attrs="{'invisible': ['|',('type', 'in', ['in_refund','out_refund']),('state','not in',('open','paid'))]}"/>
                        <button name="action_invoice_draft" states="cancel" string="Volver a Activo" type="object" groups="account.group_account_invoice"/>
						<button name="action_invoice_cancel_pyme" type="object" states="draft,open,paid" string="Cancelar Documento" groups="account.group_account_invoice"/>
						<button name="clean_internal_number" string="Limpiar Número de Factura" attrs="{'invisible':['|',('state','!=','cancel'),('move_name','=',False)]}" type="object" help="Limpiar Numero Interno Permite eliminar la Factura, pero eso puede provocar un salto en la numeración. Deberás ir a series de Documentos de Facturas para ver el siguiente número que otorgará"/>
                    <field name="state" widget="statusbar" statusbar_visible="draft,open,paid"/>
                </header>
                <div groups="account.group_account_invoice" class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('has_outstanding','=',False)]}">
                    You have <bold><a class="alert-link" href="#outstanding" role="button">outstanding debits</a></bold> for this supplier. You can allocate them to mark this bill as paid.
                </div>
                <field name="has_outstanding" invisible="1"/>
                <sheet string="Vendor Bill">
                    <div>
                        <label for="type_id" invisible="1" string="Draft Bill" attrs="{'invisible': ['|',('state','!=','draft'), ('type','!=','in_invoice')]}"/>
                        <label for="type_id" invisible="1" string="- First Number:" attrs="{'invisible': [('sequence_number_next_prefix','=',False)]}"/>
                        <label for="type_id" string="Draft Credit Note" attrs="{'invisible': ['|',('state','!=','draft'), ('type','!=','in_refund')]}"/>
                        <label for="type_id" string="Bill " attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','!=','in_invoice')]}"/>
                        <label for="type_id" string="Credit Note " attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','!=','in_refund')]}"/>
                    </div>
                    <field name="type" invisible="1"/>
                    <group>
                        <group>
                            <field string="Acreedor" name="partner_id" context="{'default_customer': 0, 'search_default_supplier': 1, 'default_supplier': 1, 'default_company_type': 'company'}" domain="[('supplier', '=', True)]"/>
                            <field name="reference"  string="Referencia Acreedor"/>
                            <label for="number" strin="Numero Interno" attrs="{'invisible': [('sequence_number_next_prefix','!=',False)]}"/>
							<div attrs="{'invisible': [('sequence_number_next_prefix','!=',False)]}">
							  <field name="number"  class="oe_inline" attrs="{'invisible': [('state', '=', 'draft')]}"/>
							</div>							
                            <label for="number" strin="Numero Interno" attrs="{'invisible': [('sequence_number_next_prefix','=',False)]}"/>
                            <div attrs="{'invisible': [('sequence_number_next_prefix','=',False)]}">
                                <field name="sequence_number_next_prefix" class="oe_inline"/>
                                <field name="sequence_number_next" class="oe_inline"/>
                            </div>
                        </group>
                        <group>
                            <field name="journal_id" options="{'no_create': True}" attrs="{'readonly':[('move_name','!=',False)]}"/>
							<field name="origin" attrs="{'invisible': [('origin', '=', False)]}"/>
							<field name="dateinv_compra"/>
                            <field name="date_invoice" string="Fecha Contable"/>
                            <field name="date_due" string="Vencimiento" attrs="{'readonly': [('payment_term_id','!=',False)]}"/>
                            <field name="move_name" invisible="1"/>
                            <field name="currency_id" options="{'no_create': True, 'no_open': True}" groups="base.group_multi_currency"/>
                            <field name="company_currency_id" invisible="1"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Lineas de Factura">
                            <field context="{'type': type, 'journal_id': journal_id}" name="invoice_line_ids">
                                <tree string="Bill lines" editable="bottom">
                                    <field name="sequence" widget="handle"/>
                                    <field name="product_id" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
                                    <field name="name"/>
                                    <field name="company_id" invisible="1"/>
                                    <field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                                    <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
                                    <field name="quantity"/>
                                    <field name="uom_id" groups="product.group_uom"/>
                                    <field name="price_unit"/>
                                    <field name="discount" groups="base.group_no_one"/>
                                    <field name="invoice_line_tax_ids" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
                                    <field name="price_subtotal"/>
                                    <field name="currency_id" invisible="1"/>
                                </tree>
                            </field>
                            <group>
                                <group class="oe_subtotal_footer oe_right">
                                    <field name="amount_untaxed"/>
                                    <field name="amount_tax"/>
                                    <field name="amount_total" class="oe_subtotal_footer_separator"/>
                                    <field name="payments_widget" colspan="2" nolabel="1" widget="payment"/>
                                    <field name="residual" class="oe_subtotal_footer_separator" attrs="{'invisible': [('state', '=', 'draft')]}"/>
                                    <field name="reconciled" invisible="1"/>
                                    <field name="outstanding_credits_debits_widget" colspan="2" nolabel="1" widget="payment" attrs="{'invisible': [('state', 'not in', 'open')]}"/>
                                </group>
                            </group>
                            <div>
                                <field name="comment" placeholder="Additional notes..."/>
                            </div>
                        </page>
                        <page string="Más Informacion" name="other_info">
													<group string="Descripcion de Impuestos">
							
                                        <field name="tax_line_ids">
                                            <tree editable="bottom" string="Taxes">
                                                <field name="name"/>
                                                <!--Need invisible fields for on_change to create all necessary info -->
                                                <field name="tax_id" invisible="1"/>
                                                <field name="sequence" invisible="1"/>
                                                <field name="manual" invisible="1"/>
                                                <field name="account_id" groups="account.group_account_user"/>
                                                <field name="account_analytic_id" domain="[('company_id', '=', parent.company_id)]" groups="analytic.group_analytic_accounting"/>
                                                <field name="amount"/>
                                                <field name="amount_rounding" invisible="1"/>
                                                <field name="amount_total" invisible="1"/>
                                                <field name="currency_id" invisible="1"/>
                                            </tree>
                                        </field>
                                   
									</group>	
							<group>
                                <group>
                                    
                                    <field domain="[('partner_id', '=', partner_id)]" name="partner_bank_id" invisible="1"/>
                                    <field name="user_id" string="Responsible"/>
                                    <field domain="[('company_id', '=', company_id), ('internal_type', '=', 'payable'), ('deprecated', '=', False)]" name="account_id" groups="account.group_account_user"/>
                                    <field name="payment_term_id" options="{'no_create': True}"/>
                                    <field name="name"/>
                                </group>
                                <group>
                                    <field name="fiscal_position_id" options="{'no_create': True}" placeholder="Auto-detect"/>
                                    <field name="move_id" groups="account.group_account_user" attrs="{'invisible': [('move_id', '=', False)]}"/>
                                    <field name="date" domain="[('state', '=', 'draft'), ('company_id', '=', company_id)]" groups="account.group_account_user"/>
                                    <field name="company_id" options="{'no_create': True}" groups="base.group_multi_company"/>
                                </group>
                            </group>
  					</page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                </form>
           </field>
    </record>  






   <record model="ir.ui.view" id="jovimer_facturas_variascli_view_form">
      <field name="name">Pyme - Facturas Servicios</field>
      <field name="model">account.invoice</field>
      <field name="arch" type="xml">
  
  <form string="Facturas Acreedor">
                <header>
                        <button name="action_invoice_open" type="object" states="draft" string="Validate" class="oe_highlight" groups="account.group_account_invoice"/>
                        <button name="150" type="action" states="open" string="Registrar Pago" groups="account.group_account_invoice" class="oe_highlight"/>
                        <button name="213" type="action" string="Realizar Factura Rectificativa" groups="account.group_account_invoice" attrs="{'invisible': ['|',('type', 'in', ['in_refund','out_refund']),('state','not in',('open','paid'))]}"/>
                        <button name="action_invoice_draft" states="cancel" string="Volver a Activo" type="object" groups="account.group_account_invoice"/>
						<button name="action_invoice_cancel_pyme" type="object" states="draft,open,paid" string="Cancelar Documento" groups="account.group_account_invoice"/>
						<button name="clean_internal_number" string="Limpiar Número de Factura" attrs="{'invisible':['|',('state','!=','cancel'),('move_name','=',False)]}" type="object" help="Limpiar Numero Interno Permite eliminar la Factura, pero eso puede provocar un salto en la numeración. Deberás ir a series de Documentos de Facturas para ver el siguiente número que otorgará"/>
                        <button name="805" type="action" string="Imprimir Facturas Varias"/>       
						<field name="state" widget="statusbar" statusbar_visible="draft,open,paid"/>
                </header>
                <div groups="account.group_account_invoice" class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('has_outstanding','=',False)]}">
                    You have <bold><a class="alert-link" href="#outstanding" role="button">outstanding debits</a></bold> for this supplier. You can allocate them to mark this bill as paid.
                </div>
                <field name="has_outstanding" invisible="1"/>
                <sheet string="Vendor Bill">
                    <div>
                        <label for="type_id" string="Draft Bill" attrs="{'invisible': ['|',('state','!=','draft'), ('type','!=','in_invoice')]}"/>
                        <label for="type_id" string="- First Number:" attrs="{'invisible': [('sequence_number_next_prefix','=',False)]}"/>
                        <label for="type_id" string="Draft Credit Note" attrs="{'invisible': ['|',('state','!=','draft'), ('type','!=','in_refund')]}"/>
                        <label for="type_id" string="Bill " attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','!=','in_invoice')]}"/>
                        <label for="type_id" string="Credit Note " attrs="{'invisible': ['|',('state', '=', 'draft'), ('type','!=','in_refund')]}"/>
                        <h1 class="mt0">
                            <field name="number" class="oe_inline" invisible="1"/>
                            <div attrs="{'invisible': [('sequence_number_next_prefix','=',False)]}">
                                <field name="sequence_number_next_prefix" class="oe_inline"/>
                                <field name="sequence_number_next" class="oe_inline"/>
                            </div>
							  <div>
							    <field name="move_name" class="oe_inline"/>
                                
                            </div>
                        </h1>
                    </div>
                    <field name="type" invisible="1"/>
                    <group>
                        <group>
                            <field string="Cliente" options="{'no_create': True}" name="partner_id" context="{'default_customer': 0, 'search_default_supplier': 1, 'default_supplier': 1, 'default_company_type': 'company'}" domain="[('supplier', '=', True)]"/>
                            <field name="reference"  string="Referencia"/>
							
                        </group>
                        <group>
                            <label for="expediente"/>
							<div>
							<field name="expediente_serien"/>
							<field name="expediente" options="{'no_create': True}"/>
							</div>
							<field name="journal_id" options="{'no_create': True}" attrs="{'readonly':[('move_name','!=',False)]}"/>
							<field name="origin" attrs="{'invisible': [('origin', '=', False)]}"/>
							<field invisible="1" name="dateinv_compra"/>
                            <field name="date_invoice" string="Fecha Factura"/>
                            <field name="date_due" string="Vencimiento" attrs="{'readonly': [('payment_term_id','!=',False)]}"/>
                            <field name="move_name" invisible="1"/>
                            <field name="currency_id" options="{'no_create': True, 'no_open': True}" groups="base.group_multi_currency"/>
                            <field name="company_currency_id" invisible="1"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Lineas de Factura">
                            <field context="{'type': type, 'journal_id': journal_id}" name="invoice_line_ids">
                                <tree string="Bill lines" editable="bottom">
                                    <field name="sequence" widget="handle"/>
                                    <field name="product_id" options="{'no_create': True}" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
                                    <field name="name"/>
                                    <field name="company_id" invisible="1"/>
                                    <field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                                    <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                                    <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
                                    <field name="quantity"/>
                                    <field name="uom_id" groups="product.group_uom"/>
                                    <field name="price_unit"/>
                                    <field name="discount" groups="base.group_no_one"/>
                                    <field name="invoice_line_tax_ids" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
                                    <field name="price_subtotal"/>
                                    <field name="currency_id" invisible="1"/>
                                </tree>
                            </field>
                            <group>
                                <group class="oe_subtotal_footer oe_right">
                                    <field name="amount_untaxed"/>
                                    <field name="amount_tax"/>
                                    <field name="amount_total" class="oe_subtotal_footer_separator"/>
                                    <field name="payments_widget" colspan="2" nolabel="1" widget="payment"/>
                                    <field name="residual" class="oe_subtotal_footer_separator" attrs="{'invisible': [('state', '=', 'draft')]}"/>
                                    <field name="reconciled" invisible="1"/>
                                    <field name="outstanding_credits_debits_widget" colspan="2" nolabel="1" widget="payment" attrs="{'invisible': [('state', 'not in', 'open')]}"/>
                                </group>
                            </group>
                            <div>
                                <field name="comment" placeholder="Additional notes..."/>
                            </div>
                        </page>
                        <page string="Más Informacion" name="other_info">
													<group string="Descripcion de Impuestos">
							
                                        <field name="tax_line_ids">
                                            <tree editable="bottom" string="Taxes">
                                                <field name="name"/>
                                                <!--Need invisible fields for on_change to create all necessary info -->
                                                <field name="tax_id" invisible="1"/>
                                                <field name="sequence" invisible="1"/>
                                                <field name="manual" invisible="1"/>
                                                <field name="account_id" groups="account.group_account_user"/>
                                                <field name="account_analytic_id" domain="[('company_id', '=', parent.company_id)]" groups="analytic.group_analytic_accounting"/>
                                                <field name="amount"/>
                                                <field name="amount_rounding" invisible="1"/>
                                                <field name="amount_total" invisible="1"/>
                                                <field name="currency_id" invisible="1"/>
                                            </tree>
                                        </field>
                                   
									</group>	
							<group>
                                <group>
                                    
                                    <field domain="[('partner_id', '=', partner_id)]" name="partner_bank_id" invisible="1"/>
                                    <field name="user_id" string="Responsible"/>
                                    <field domain="[('company_id', '=', company_id), ('internal_type', '=', 'payable'), ('deprecated', '=', False)]" name="account_id" groups="account.group_account_user"/>
                                    <field name="payment_term_id" options="{'no_create': True}"/>
                                    <field name="name"/>
                                </group>
                                <group>
                                    <field name="fiscal_position_id" options="{'no_create': True}" placeholder="Auto-detect"/>
                                    <field name="move_id" groups="account.group_account_user" attrs="{'invisible': [('move_id', '=', False)]}"/>
                                    <field name="date" domain="[('state', '=', 'draft'), ('company_id', '=', company_id)]" groups="account.group_account_user"/>
                                    <field name="company_id" options="{'no_create': True}" groups="base.group_multi_company"/>
                                </group>
                            </group>
  					</page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
                </form>
           </field>
    </record>  


<!-- Prepara ALbaranes y Facturacion -->


	<record model="ir.ui.view" id="jovimer_preparaalbaranc_view_tree">
      <field name="name">JOVIMER - Prepara Albaranes de Compra</field>
      <field name="model">jovimer_preparaalbaranc</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<tree default_order="id desc">
			<field name="id"/>
			<field name="fecha"/>
			<field name="name"/>
			<field name="partner"/>
		</tree>
	  </field>
    </record>


	<record model="ir.ui.view" id="jovimer_preparaalbaranc_view_form">
      <field name="name">JOVIMER - Prepara Albaranes de Compra</field>
      <field name="model">jovimer_preparaalbaranc</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<form>
		
		<group>
		<group>
			<field name="id"/>
			<field name="fecha" readonly="1" required="1"/>
			<field name="name" readonly="1" required="1"/>
			<field name="partner" readonly="1" required="1"/>
		</group></group>
		<field name="pol" context="{'search_default_lineafacturacomprap': 1}" domain="[('partner_id','=',partner)]">
		    <tree default_order="id desc">

			<field name="id" invisible="1"/>
			<field name="lineafacturacompra" invisible="1"/>
			<field name="cantidadpedido" widget="integer"  readonly="1"/>
			<field name="unidadpedido"  options="{'no_create': True, 'no_create_edit':True}" readonly="1"/>
			<field name="bultos" widget="integer"  readonly="1"/>
			<field name="product_uom" readonly="1"/>

			<field name="expediente_serien" string="Exp" readonly="1"/>
			<field name="expediente" string="Destino" readonly="1"/>
            <field name="asignado"/>
			<field name="expediente_serieo" string="Exp" readonly="1" attrs="{'invisible': [('asignado', '!=', True)]}"/>
			<field name="expedienteo" string="Origen" readonly="1" attrs="{'invisible': [('asignado', '!=', True)]}"/>
			<field name="fechasalida" readonly="1"/>
			<field name="partner_id" readonly="1"/>
			<field name="name" readonly="1"/>

			<field name="cantidadasignada" widget="integer"  readonly="1"/>

			<field name="envase" readonly="1"/>
			<field name="marca" readonly="1"/>
			<field name="confeccion" readonly="1"/>
			<field name="variedad" readonly="1"/>
			<field name="price_unit" readonly="1"/>
			<field name="order_id" string="Pedido COmpleto" readonly="1"/>


		</tree>
		</field>
		<footer>
		<button name="preparaalbarancompra" string="Importa Lineas" type="object"/>
		</footer>
		</form>
	  </field>
    </record>



	<record model="ir.ui.view" id="jovimer_preparaalbaranv_view_tree">
      <field name="name">JOVIMER - Prepara Albaranes de Venta</field>
      <field name="model">jovimer_preparaalbaranv</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<tree default_order="id desc">
			<field name="id"/>
			<field name="fecha"/>
			<field name="name"/>
			<field name="partner"/>
		</tree>
		
      </field>
    </record>


	<record model="ir.ui.view" id="jovimer_preparaalbaranv_view_form">
      <field name="name">JOVIMER - Prepara Albaranes de Venta</field>
      <field name="model">jovimer_preparaalbaranv</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<form>
		<group>
		<group>
			<field name="fecha" readonly="1" required="1"/>
			<field name="name" readonly="1" required="1"/>
			<field name="partner" readonly="1" required="1"/>
		</group></group>
		<field name="pol" context="{'search_default_lineafacturaventap': 1}">
		
				<tree default_order="id desc" editable="top">
					<field name="id" invisible="1"/>
					<field name="albvtadestino"/>
					<field name="expediente"/>
					<field name="fechafact"/>
					<field name="totalbultos" widget="integer" />
					<field name="product_id"/>
					<field name="name" invisible="1"/>
					<field name="partner_id"/>
					<field name="invoice_id" invisible="1"/>
					<field name="refcliente" string="Referencia"/>
					<field name="confeccion"/>
					<field name="variedad"/>
					<field name="marca"/>
					<field name="envase"/>
					<field name="categoria"/>
					<field name="company_id" invisible="1"/>
					<field name="account_id" invisible="1"/>
					<field name="account_analytic_id" invisible="1"/>
					<field name="analytic_tag_ids" invisible="1"/>
					<field name="cantidadpedido" widget="integer" />
					<field name="unidadpedido"/>
					<field name="bultos" widget="integer" />
					<field name="quantity"/>
					<field name="uom_id" invisible="1"/>
					<field name="unidabulto"/>
					<field name="price_unit"/>
					<field name="discount"  invisible="1"/>
					<field name="invoice_line_tax_ids"  invisible="1"/>
					<field name="price_subtotal"/>
					<field name="currency_id" invisible="1"/>
          </tree>
		
		</field>
		
		<footer>
		<button name="preparaalbaranventa" string="Importa Lineas" type="object"/>
		</footer>
		</form>
	  </field>
    </record>




	<record model="ir.ui.view" id="jovimer_preparafacturav_view_form">
      <field name="name">JOVIMER - Prepara Factura de Venta</field>
      <field name="model">jovimer_preparafacturav</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<form>
		<group>
		<group>
			<field name="fecha" readonly="1" required="1"/>
			<field name="name" readonly="1" required="1"/>
			<field name="partner" readonly="1" required="1"/>
		</group></group>
		<field name="pol" >
		
				
     
		
		</field>
		
		<footer>
		<button name="preparafacturaventa" string="Importa Lineas Albaran" type="object"/>
		</footer>
		</form>
	  </field>
    </record>





	<record model="ir.ui.view" id="jovimer_preparaalmalbaranv_view_form">
      <field name="name">JOVIMER - Prepara IMportar Almacen de Venta</field>
      <field name="model">jovimer_preparaalmalbaranv</field>
      <field name="priority">0</field>
      <field name="arch" type="xml">
		<form>
		<group>
		<group>
			<field name="fecha" readonly="1" required="1"/>
			<field name="name" readonly="1" required="1"/>
			<field name="partner" readonly="1" required="1"/>

		<field name="pol2" options="{'no_create': True}"/>
		<field name="exporig"/>
		<field name="cantidadorig"/>
		<field name="proveedororig"/>

        <label for="cantidad"/>
        <div>
        <h1>
		<field name="cantidad"/></h1>
		</div>
        </group></group>
		<footer>
		<button name="preparaimportacion" string="Importar LINEAS" type="object"/>
		</footer>
		</form>
	  </field>
    </record>



<!-- ACCIONES -->

	<!--	PREPARA de Facturas -->
	<!--	PREPARA de Facturas -->
	<!--	PREPARA de Facturas -->	


        <record id="action_jovimer_preparaalbaranc" model="ir.actions.act_window">
            <field name="name">Jovimer - Prepara Albaranes Compra</field>
            <field name="res_model">jovimer_preparaalbaranc</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Prepara Albaranes Compra
              </p>
            </field>
        </record>

        <record id="action_jovimer_preparaalbaranv" model="ir.actions.act_window">
            <field name="name">Jovimer - Prepara Albaranes Venta</field>
            <field name="res_model">jovimer_preparaalbaranv</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Prepara Albaranes Venta
              </p>
            </field>
        </record>






	<!--	LIstado de Facturas -->
	<!--	LIstado de Facturas -->
	<!--	LIstado de Facturas -->	

        <record id="action_jovimer_facturas_clientes" model="ir.actions.act_window">
            <field name="name">Jovimer - Facturas Clientes</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('journal_id.type','=','sale'),('journal_id','!=',10),('traspasocont','=',False)]</field>
            <field name="context">{'default_type': 'out_invoice', 'type': 'out_invoice', 'journal_type': 'sale', 'default_journal_id': 24}</field>
            <field name="search_view_id" ref="jovimer_facturaspymev_view_search"/>
						<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_facturas_cli_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_facturas_cli_view_form')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Facturas de Clientes
              </p>
            </field>
        </record>
		

        <record id="action_jovimer_facturaslistado_clientes" model="ir.actions.act_window">
            <field name="name">Jovimer - Listado Facturas Clientes</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('journal_id.type','=','sale'),('journal_id','!=',10)]</field>
            <field name="context">{'default_type': 'out_invoice', 'type': 'out_invoice', 'journal_type': 'sale', 'default_journal_id': 24}</field>
            <field name="search_view_id" ref="jovimer_facturaspymev_view_search"/>
						<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_facturas_cli_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_facturas_cli_view_form')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Listado Facturas de Clientes
              </p>
            </field>
        </record>


		
		<record id="action_jovimer_facturas_variascli" model="ir.actions.act_window">
            <field name="name">Jovimer - Facturas Servicios</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('journal_id.type','=','sale'),('journal_id','=',12),('traspasocont','=',False)]</field>
            <field name="context">{'default_type': 'out_invoice', 'type': 'out_invoice', 'journal_type': 'sale', 'default_journal_id': 12}</field>
            <field name="search_view_id" ref="jovimer_facturaspymev_view_search"/>
						<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_facturas_cli_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_facturas_variascli_view_form')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Facturas de Servicios
              </p>
            </field>
        </record>
		
		
		
		
		
	<!--	LIstado de Albaranes -->
	<!--	LIstado de Albaranes -->
	<!--	LIstado de Albaranes -->		



        <record id="action_jovimer_albaranes_clientes" model="ir.actions.act_window">
            <field name="name">Jovimer - Albaranes Clientes</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('type','=','out_invoice'),('journal_id','=',10),('docresultante','=',False)]</field>
            <field name="context">{'default_type': 'out_invoice', 'type': 'out_invoice', 'journal_type': 'sale', 'default_journal_id': 10}</field>
            <field name="search_view_id" ref="jovimer_facturaspymev_view_search"/>
						<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_facturas_cli_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_facturas_cli_view_form')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Albaranes de Clientes
              </p>
            </field>
        </record>



        <record id="action_jovimer_albaraneslistado_clientes" model="ir.actions.act_window">
            <field name="name">Jovimer - Listado Albaranes Clientes</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('type','=','out_invoice'),('journal_id','=',10)]</field>
            <field name="context">{'default_type': 'out_invoice', 'type': 'out_invoice', 'journal_type': 'sale', 'default_journal_id': 10}</field>
            <field name="search_view_id" ref="jovimer_facturaspymev_view_search"/>
						<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_facturas_cli_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_facturas_cli_view_form')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Listado Albaranes de Clientes
              </p>
            </field>
        </record>


        <record id="action_jovimer_abono_clientes" model="ir.actions.act_window">
            <field name="name">Jovimer - Abonos Clientes</field>
            <field name="res_model">jovimer_abonocliente</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain"></field>
            <field name="context"></field>

						
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Listado Albaranes de Clientes
              </p>
            </field>
        </record>


	<!--	LIstado de Facturas Proveedores -->
	<!--	LIstado de Facturas Proveedores -->
	<!--	LIstado de Facturas Proveedores -->	




        <record id="action_jovimer_facturaslistado_proveedores" model="ir.actions.act_window">
            <field name="name">Jovimer - Listado Facturas proveedor</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('journal_id.type','=','purchase'),('partner_id.supplier','=', True),('journal_id','!=', 9)]</field>
            <field name="context">{'default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase', 'default_journal_id': 16}</field>
            <field name="search_view_id" ref="jovimer_facturaspymec_view_search"/>
						<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_facturas_prov_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_facturas_prov_view_form')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Listado Facturas de Proveedores
              </p>
            </field>
        </record>



        <record id="action_jovimer_facturas_acreeedor" model="ir.actions.act_window">
            <field name="name">Jovimer - Facturas Acreedores</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('journal_id.type','=','purchase'),('partner_id.acreedor','=', True),('traspasocont','=',False),('journal_id','=',33)]</field>
            <field name="context">{'default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase', 'default_journal_id': 33}</field>
            <field name="search_view_id" ref="jovimer_facturaspymec_view_search"/>
						<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_facturas_acre_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_facturas_acre_view_form')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Facturas de Acreedores
              </p>
            </field>
        </record>


        <record id="action_jovimer_facturas_trans" model="ir.actions.act_window">
            <field name="name">Jovimer - Facturas Transporte</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('journal_id','=',18),('traspasocont','=',False)]</field>
            <field name="context">{'default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase', 'default_journal_id': 18}</field>
            <field name="search_view_id" ref="jovimer_facturaspymec_view_search"/>
						<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_facturas_trans_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_facturas_trans_view_form')})]"/>
            <field name="search_view_id" ref="jovimer_facturas_trans_view_search"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Facturas de Transporte
              </p>
            </field>
        </record>


        <record id="action_jovimer_facturas_sproviding" model="ir.actions.act_window">
            <field name="name">Jovimer - Facturas Service Providing</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('traspasocont','=',False),('fsproviding','=',True)]</field>
            <field name="context">{'default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase', 'default_journal_id': 18, 'default_fsproviding': True}</field>
            <field name="search_view_id" ref="jovimer_facturaspymec_view_search"/>
						<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_facturas_sproviding_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_facturas_sproviding_view_form')})]"/>
            <field name="search_view_id" ref="jovimer_facturas_trans_view_search"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Facturas de Transporte
              </p>
            </field>
        </record>


        <record id="action_jovimer_facturas_proveedor" model="ir.actions.act_window">
            <field name="name">Jovimer - Facturas proveedor</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('journal_id.type','=','purchase'),('journal_id', 'in', [16,17]),('traspasocont','=',False)]</field>
            <field name="context">{'default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase'}</field>
            <field name="search_view_id" ref="jovimer_facturaspymec_view_search"/>
						<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_facturas_prov_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_facturas_prov_view_form')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Facturas de Proveedores
              </p>
            </field>
        </record>


	<!--	LIstado de Albaranes Proveedores -->
	<!--	LIstado de Albaranes Proveedores -->
	<!--	LIstado de Albaranes Proveedores -->

	
        <record id="action_jovimer_albaranes_proveedor" model="ir.actions.act_window">
            <field name="name">Jovimer - Albaranes proveedor</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('type','=','in_invoice'),('partner_id.supplier','=', True),('journal_id','=', 9),('albaranfacturado','=', False),('expedientesdecompra','!=', False)]</field>
            <field name="context">{'default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase', 'default_journal_id': 9}</field>
            <field name="search_view_id" ref="jovimer_facturaspymec_view_search"/>
						<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_facturas_prova_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_facturas_prov_view_form')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Albaranes de Proveedores
              </p>
            </field>
        </record>



        <record id="action_jovimer_albaraneslistado_proveedor" model="ir.actions.act_window">
            <field name="name">Jovimer - Listado Albaranes proveedor</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('type','=','in_invoice'),('partner_id.supplier','=', True),('journal_id','=', 9)]</field>
            <field name="context">{'default_type': 'in_invoice', 'type': 'in_invoice', 'journal_type': 'purchase', 'default_journal_id': 9}</field>
            <field name="search_view_id" ref="jovimer_facturaspymec_view_search"/>
						<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_facturas_prova_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_facturas_prov_view_form')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Listado Albaranes de Proveedores
              </p>
            </field>
        </record>


	<!--	LIstado de Valoraciones -->
	<!--	LIstado de Valoraciones -->
	<!--	LIstado de Valoraciones -->

        <record id="action_jovimer_albaranes_precios" model="ir.actions.act_window">
            <field name="name">PRECIOS - Albaranes de Cliente</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('type','=','out_invoice'),('journal_id','=', 10)]</field>
            <field name="context">{}</field>
			<field name="search_view_id" ref="jovimer_facturaspymev_view_search"/>
			<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_facturas_cli_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_preciosalb_cli_view_form')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Precios en Albaranes de Cliente
              </p>
            </field>
        </record>


        <record id="action_jovimer_almacen_linalb" model="ir.actions.act_window">
            <field name="name">ALMACEN - Movimientos</field>
            <field name="res_model">account.invoice.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('invoice_id.journal_id','in', [9,10]),('invoice_id.date_invoice','&gt;=', '2021-04-01'),('asignaroriginal','!=', True)]</field>
            <field name="context">{}</field>
			<field name="search_view_id" ref="jovimer_almacen_linalb_search"/>
			<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_almacen_linalb_tree')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Movimientos Almacen
              </p>
            </field>
        </record>



        <record id="action_jovimer_albaranes_clienteval" model="ir.actions.act_window">
            <field name="name">Jovimer - Valoración Albaranes Cliente</field>
            <field name="res_model">account.invoice.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('invoice_id.type','=','out_invoice'),('invoice_id.journal_id','=', 10)]</field>
            <field name="context">{}</field>
            <field name="search_view_id" ref="jovimer_valoracionesv_view_search"/> 
			<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_albaval_cli_view_tree')})]"/>

            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Valoraciones de Clientes
              </p>
            </field>
        </record>


        <record id="action_jovimer_albaranes_proveedorval" model="ir.actions.act_window">
            <field name="name">Jovimer - Valoración Albaranes proveedor</field>
            <field name="res_model">account.invoice.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('invoice_id.type','=','in_invoice'),('invoice_id.journal_id','=', 9)]</field>
            <field name="context">{}</field>
            <field name="search_view_id" ref="jovimer_valoracionesc_view_search"/> 
			<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_albaval_prov_view_tree')})]"/>

            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Valoraciones de Proveedores
              </p>
            </field>
        </record>

        <record id="action_jovimer_generaalbaranes" model="ir.actions.act_window">
            <field name="name">Jovimer - Generar Albaranes</field>
            <field name="res_model">jovimer_generaalbaranes</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
			<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_generaalbaranes_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_generaalbaranes_view_form')})]"/>

            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
               Generar Albaranes
              </p>
            </field>
        </record>





        <record id="action_jovimer_intarstat_clientes" model="ir.actions.act_window">
            <field name="name">Jovimer - Instrastat Clientes</field>
            <field name="res_model">account.invoice.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('invoice_id.type','=','out_invoice'),('invoice_id.journal_id','=', 10)]</field>
            <field name="context"></field>
			<field name="search_view_id" ref="jovimer_searchlinvtai_view_search"/>
			<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_linalbcomprep_view_tree')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Lineas de INTRASTAT VENTAS
              </p>
            </field>
        </record>


        <record id="action_jovimer_intarstat_prov" model="ir.actions.act_window">
            <field name="name">Jovimer - Instrastat Proveedores</field>
            <field name="res_model">account.invoice.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('invoice_id.type','=','in_invoice'),('invoice_id.journal_id','=', 9)]</field>
            <field name="context"></field>
			<field name="search_view_id" ref="jovimer_searchlinvtai_view_search"/>
			<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_linalbcomprep_view_tree')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Lineas de INTRASTAT COMPRAS
              </p>
            </field>
        </record>




        <record id="action_jovimer_facturarlineas_proveedor" model="ir.actions.act_window">
            <field name="name">Jovimer - Facturar Lineas Proveedor</field>
            <field name="res_model">purchase.order.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('order_id.state','not in',('cancel','draft'))]</field>
            <!-- <field name="context">{"search_default_lineafacturacomprap": 1}</field> -->
			<field name="search_view_id" ref="jovimer_linpedcomprep_view_search"/>
			<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_linpedcomprep_view_tree')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Facturar Lineas de Proveedor
              </p>
            </field>
        </record>


        <record id="action_jovimer_facturarlineas_cliente" model="ir.actions.act_window">
            <field name="name">Jovimer - Facturar Lineas Cliente</field>
            <field name="res_model">account.invoice.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('invoice_id.type','=','in_invoice'),('invoice_id.journal_id','=', 9),('asignarnosale','!=', True)]</field>
            <field name="context">{"search_default_lineafacturaventap": 1}</field>
			<field name="search_view_id" ref="jovimer_searchlinvta_view_search"/>
			<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_linalbcomprep_view_tree')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Facturar Lineas de Clientes
              </p>
            </field>
        </record>
 



        <record id="action_jovimer_lineas_facturadasc" model="ir.actions.act_window">
            <field name="name">Jovimer - Lineas Facturadas COMPRA</field>
            <field name="res_model">account.invoice.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('invoice_id.type','=','in_invoice'),('asignaroriginal','!=', True),('invoice_id.journal_id','!=', 9),('invoice_id.state','not in', ('cancel','draft'))]</field>
            <field name="context"></field>
			<field name="search_view_id" ref="jovimer_lineas_facturadas_view_search"/>
			<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_lineas_facturadas_view_tree')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Jovimer - Lineas Facturadas COMPRA
              </p>
            </field>
        </record>


        <record id="action_jovimer_lineas_facturadasv" model="ir.actions.act_window">
            <field name="name">Jovimer - Lineas Facturadas VENTA</field>
            <field name="res_model">account.invoice.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field eval="False" name="view_id"/>
            <field name="domain">[('invoice_id.type','=','out_invoice'),('asignaroriginal','!=', True),('invoice_id.journal_id','!=', 10),('invoice_id.state','not in', ('cancel','draft'))]</field>
            <field name="context"></field>
			<field name="search_view_id" ref="jovimer_lineas_facturadas_view_search"/>
			<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_lineas_facturadas_view_tree')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Jovimer - Lineas Facturadas VENTA
              </p>
            </field>
        </record>



        <record id="action_jovimer_traspasocontacyp" model="ir.actions.act_window">
            <field name="name">Jovimer - Generar Traspaso Cobros Y Pagos</field>
            <field name="res_model">jovimer_traspasocyp</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain"></field>
            <field name="context"></field>
			<field name="search_view_id" ref="jovimer_trasoasoconta_view_search"/>
     		
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Traspasos de Contabilidad Cobros y Pagos
              </p>
            </field>
        </record>


        <record id="action_jovimer_traspasoconta" model="ir.actions.act_window">
            <field name="name">Jovimer - Generar Traspaso Contabilidad</field>
            <field name="res_model">jovimer_traspasoconta</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('tipotraspaso','=','EMITIDAS')]</field>
            <field name="context"></field>
			<field name="search_view_id" ref="jovimer_trasoasoconta_view_search"/>
     		<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_trasoasoconta_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_trasoasoconta_view_form')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Traspasos de Contabilidad Realizados
              </p>
            </field>
        </record>


        <record id="action_jovimer_traspasocontac" model="ir.actions.act_window">
            <field name="name">Jovimer - Generar Traspaso Contabilidad Compra</field>
            <field name="res_model">jovimer_traspasoconta</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="domain">[('tipotraspaso','=','RECIBIDAS')]</field>
            <field name="context"></field>
			<field name="search_view_id" ref="jovimer_trasoasoconta_view_search"/>
     		<field name="view_ids" eval="[(5, 0, 0),
                            (0, 0, {'view_mode': 'tree', 'view_id': ref('jovimer_trasoasoconta_view_tree')}),
                            (0, 0, {'view_mode': 'form', 'view_id': ref('jovimer_trasoasocontac_view_form')})]"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Traspasos de Contabilidad Realizados desde Compra
              </p>
            </field>
        </record>


        <record id="action_jovimer_albcli_devolu" model="ir.actions.act_window">
            <field name="name">Jovimer - Devoluciones</field>
            <field name="res_model">jovimer_devalbaranv</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context"></field>
		    <field name="domain">[('confirmado','=', True)]</field>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Devoluciones
              </p>
            </field>
        </record>


        <record id="action_jovimer_intrastat" model="ir.actions.act_window">
            <field name="name">Jovimer - Instrastat</field>
            <field name="res_model">jovimer_intrastat</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context"></field>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Intrastat
              </p>
            </field>
        </record>

        <record id="action_jovimer_productos_maestros_pyp" model="ir.actions.act_window">
            <field name="name">Jovimer - Precios Productos</field>
            <field name="res_model">jovimer_productos_maestros_pyp</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context"></field>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Jovimer - Precios Productos Intrastat
              </p>
            </field>
        </record>


			  
         <menuitem id="menu_jovimerfactu" 
              name="Facturación" 
              web_icon="pyme_menus,static/menu/tesoreria.png"
              sequence="10"/>

          <menuitem id="menu_jovimerclifactu" 
              name="Clientes" 
			  parent="menu_jovimerfactu"
              sequence="1"/>
			  
		 <menuitem name="Facturas de Clientes"
              id="menu_jovimer_factu_cliente"
              parent="menu_jovimerclifactu"
			  sequence="2"
			  action="action_jovimer_facturas_clientes"/> 

		 <menuitem name="Albaranes de Clientes"
              id="menu_jovimer_alba_cliente"
              parent="menu_jovimerclifactu"
			  sequence="1"
			  action="action_jovimer_albaranes_clientes"/> 


		 <menuitem name="Abonos de Clientes"
              id="menu_jovimer_abono_cliente"
              parent="menu_jovimerclifactu"
			  sequence="10"
			  action="action_jovimer_abono_clientes"/> 

          <menuitem id="menu_jovimerstats" 
              name="Informes / Stats" 
			  parent="menu_jovimerfactu"
              sequence="2"/>

		 <menuitem name="Lineas Venta"
              id="menu_jovimer_stats_vta"
              parent="menu_jovimerstats"
			  sequence="3"
			  action="action_jovimer_intarstat_clientes"/> 
			  

		 <menuitem name="Lineas Compra"
              id="menu_jovimer_stats_comp"
              parent="menu_jovimerstats"
			  sequence="2"
			  action="action_jovimer_intarstat_prov"/> 			  

		 <menuitem name="Informe INTRASTAT"
              id="menu_jovimer_intrastat"
              parent="menu_jovimerstats"
			  sequence="3"
			  action="action_jovimer_intrastat"/>	


    <menuitem name="Precios Productos" 
              id="menu_jovimer_productos_maestros_pyp" 
              parent="menu_jovimerstats"
              action="action_jovimer_productos_maestros_pyp"/>

    <menuitem name="Lineas FACTURADAS" 
              id="menu_jovimer_lineas_facturadas" 
              parent="menu_jovimerstats"/>

    <menuitem name="COMPRAS" 
              id="menu_jovimer_lineas_facturadasc" 
              parent="menu_jovimer_lineas_facturadas"
              action="action_jovimer_lineas_facturadasc"/>

    <menuitem name="VENTAS" 
              id="menu_jovimer_lineas_facturadasv" 
              parent="menu_jovimer_lineas_facturadas"
              action="action_jovimer_lineas_facturadasv"/>


          <menuitem id="menu_valoraciones" 
              name="Valoraciones" 
			  parent="menu_jovimerfactu"
              sequence="2"/>
	
		 <menuitem name="Valoraciones Albaranes Proveedor"
              id="menu_jovimer_valoraciones_comp"
              parent="menu_valoraciones"
			  sequence="1"
			  action="action_jovimer_albaranes_proveedorval"/>



		 <menuitem name="Valoraciones Albaranes Cliente"
              id="menu_jovimer_valoraciones_vta"
              parent="menu_valoraciones"
			  sequence="2"
			  action="action_jovimer_albaranes_clienteval"/>


			  
          <menuitem id="menu_jovimerprovfactu" 
              name="Proveedores" 
			  parent="menu_jovimerfactu"
              sequence="2"/>

		 <menuitem name="Facturas de Proveedores"
              id="menu_jovimer_factu_proveedor"
              parent="menu_jovimerprovfactu"
			  sequence="2"
			  action="action_jovimer_facturas_proveedor"/> 

		 <menuitem name="Albaranes de Proveedores"
              id="menu_jovimer_alba_proveedor"
              parent="menu_jovimerprovfactu"
			  sequence="1"
			  action="action_jovimer_albaranes_proveedor"/> 

          <menuitem id="menu_jovimerotrosfactu" 
              name="Otras Facturas" 
			  parent="menu_jovimerfactu"
              sequence="3"/>
			  
		 <menuitem name="Facturas de Acreedores"
              id="menu_jovimer_factu_acreedor"
              parent="menu_jovimerotrosfactu"
			  sequence="5"
			  action="action_jovimer_facturas_acreeedor"/> 
			  
		 <menuitem name="Facturas de Transportistas"
              id="menu_jovimer_factu_trans"
              parent="menu_jovimerotrosfactu"
			  sequence="3"
			  action="action_jovimer_facturas_trans"/> 

		 <menuitem name="Facturas Service Providing"
              id="menu_jovimer_factu_sproviding"
              parent="menu_jovimerotrosfactu"
			  sequence="3"
			  action="action_jovimer_facturas_sproviding"/> 


		 <menuitem name="Facturas Servicios"
              id="menu_jovimer_factu_variascliente"
              parent="menu_jovimerotrosfactu"
			  sequence="3"
			  action="action_jovimer_facturas_variascli"/> 



          <menuitem id="menu_jovimerprepfactu" 
              name="Prepara Facturación" 
			  parent="menu_jovimerfactu"
              sequence="4"/>	
			  
		 <menuitem name="Importar Lineas Proveedores"
              id="menu_jovimer_facturar_lin"
              parent="menu_jovimerprepfactu"
			  sequence="10"
			  action="action_jovimer_facturarlineas_proveedor"/> 			  
		 <menuitem name="Importar Lineas Clientes"
              id="menu_jovimer_facturar_linc"
              parent="menu_jovimerprepfactu"
			  sequence="10"
			  action="action_jovimer_facturarlineas_cliente"/> 

		 <menuitem name="Generar Albaranes PROV/CLI"
              id="menu_jovimer_generaalbaranes"
              parent="menu_jovimerprepfactu"
			  sequence="20"
			  action="action_jovimer_generaalbaranes"/> 

		 <!-- 
		 <menuitem name="Wizard Albaranes Compra"
              id="menu_jovimer_preparaalbaranc"
              parent="menu_jovimerprepfactu"
			  sequence="20"
			  action="action_jovimer_preparaalbaranc"/> 			  

		 <menuitem name="Wizard Albaranes Venta"
              id="menu_jovimer_preparaalbaranv"
              parent="menu_jovimerprepfactu"
			  sequence="20"
			  action="action_jovimer_preparaalbaranv"/> 	

          -->

          <menuitem id="menu_traspasocontable" 
              name="Traspaso Contable" 
			  parent="menu_jovimerfactu"
              sequence="2"/>
			  
		 <menuitem name="Traspasos Emitidas"
              id="menu_jovimer_trasoaso_emit"
              parent="menu_traspasocontable"
			  sequence="10"
			  action="action_jovimer_traspasoconta"/> 			  

		 <menuitem name="Traspasos Recibidas"
              id="menu_jovimer_trasoaso_recib"
              parent="menu_traspasocontable"
			  sequence="11"
			  action="action_jovimer_traspasocontac"/> 	

		 <menuitem name="Traspasos Cobros y Pagos"
              id="menu_jovimer_trasoaso_cyp"
              parent="menu_traspasocontable"
			  sequence="12"
			  action="action_jovimer_traspasocontacyp"/> 


          <menuitem id="menu_listados" 
              name="Listados Documentos" 
			  parent="menu_jovimerfactu"
              sequence="11"/>
			  
		 <menuitem name="Albaranes Clientes"
              id="menu_listados_acli"
              parent="menu_listados"
			  sequence="10"
			  action="action_jovimer_albaraneslistado_clientes"/> 			  

		 <menuitem name="Facturas Cliente"
              id="menu_listados_fcli"
              parent="menu_listados"
			  sequence="11"
			  action="action_jovimer_facturaslistado_clientes"/> 	

		 <menuitem name="Albaranes Proveedores"
              id="menu_listados_apro"
              parent="menu_listados"
			  sequence="10"
			  action="action_jovimer_albaraneslistado_proveedor"/> 			  

		 <menuitem name="Facturas Proveedores"
              id="menu_listados_fpro"
              parent="menu_listados"
			  sequence="11"
			  action="action_jovimer_facturaslistado_proveedores"/> 	


          <menuitem id="menu_precios" 
              name="Precios" 
			  parent="menu_jovimerfactu"
              sequence="12"/>

          <menuitem id="menu_precios_alb" 
              name="Precios en Albaranes" 
			  parent="menu_precios"
			  action="action_jovimer_albaranes_precios"
              sequence="1"/>

          <menuitem id="menu_almacen" 
              name="Almacén" 
			  parent="menu_jovimerfactu"
              sequence="13"/>

          <menuitem id="menu_almacen_linalb" 
              name="Movimientos de Almacén" 
			  parent="menu_almacen"
			  action="action_jovimer_almacen_linalb"
              sequence="1"/>

          <menuitem id="menu_almacen_devoluciones" 
              name="Devoluciones de Venta" 
			  parent="menu_almacen"
			  action="action_jovimer_albcli_devolu"
              sequence="2"/>


          <menuitem name="Documentos Contables"
              id="pyme_menus.item_action_configuracion_seriedocumentos_fv_pyme"
              parent="pyme_menus.item_action_configuracion_seriedocumentos_pyme"
              action="account.action_account_journal_form"/>



		  
			  
  </data>
</odoo>	