<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="indaws_account_move_extended_view_order_form_inherit_1" model="ir.ui.view">
        <field name="name">indaws.account.move.extended.view.order.form.inherit</field>
        <field name="model">account_move</field>
        <field name="inherit_id" ref="account.view_move_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='invoice_date']" position="before">
                <field name="id"/>
                <field name="analytic_account_id"/>
                <field name="quierevr"/>
                <field name="noimprimepal"/>
            </xpath>
            <xpath expr="//page">
                <page string="Lineas">
                    <group>
                        <button type="object" string="Importar Lineas Proveedores" name="importarlineasventa" attrs="{'invisible': [('journal_id','!=',10)]}"/>
                        <button type="object" string="Importar Lineas Almacén" name="importarlineasalmacen" attrs="{'invisible': [('journal_id','!=',10)]}"/>
                        <button type="object" string="Importar Lineas Albaranes" name="importarlineasalbaran" attrs="{'invisible': [('journal_id','=',10)]}"/>
                    </group>
                    <group>
                        <field name="origin" string="ALbarán ORIGEN"/>
                    </group>
                    <button invisible="1" type="object" string="Explorar lineas" name="jovimer_view_lineasfact"/>
                    <field context="{'type': type, 'journal_id': journal_id}" name="invoice_line_ids">
                        <tree string="Bill lines">
                            <field name="algovamal" invisible="1"/>
                            <field name="sequence" widget="handle"/>
                            <field name="ocultaimpresion" string="No Imp"/>
                            <field name="expediente" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="codproducto" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="product_id" invisible="1" context="{'partner_id': parent.partner_id}" domain="[('purchase_ok','=',True)]"/>
                            <field name="variedad" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="variedadeng"  options="{'bg_color': 'yellow:algovamal== True'}" attrs="{'invisible': [('parent.journal_id', '!=', '10')]}"/>
                            <field name="name" invisible="1"/>
                            <field name="confeccion" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="marca" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="envase" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="categoria" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="calibre" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="company_id" invisible="1"/>
                            <field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                            <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                            <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
                            <field name="cantidadpedido" string="Pl" widget="integer"  options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="unidadpedido" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="unidadesporbulto" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="bultos" string="BxP" widget="integer"  options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="totalbultos" string="Bultos" widget="integer"  options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="kgnetbulto" invisible="1"/>
                            <field name="totalkglin" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="totalkglinbr" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="envasecod" invisible="1"/>
                            <button name="facturaifcos" string="Fact. IFCO" type="object"   attrs="{'invisible': [('envasecod', '!=', 'IFCO')]}"/>
                            <field name="uom_id" groups="product.group_uom"/>
                            <field name="price_unit" string="Precio" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="quantity" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="unidabulto" string="Ud" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="udfacturacion" string="U.Fact" readonly="1"/>
                            <field name="discount"  options="{'bg_color': 'yellow:algovamal== True'}" string="Dto %" attrs="{'invisible': [('parent.journal_id', '=', '10')]}"/>
                            <field name="diariofactura" invisible="1"/>
                            <field name="invoice_line_tax_ids"   widget="many2many_tags" attrs="{'invisible': [('parent.journal_id', '=', '10')]}" options="{'bg_color': 'yellow:algovamal== True'}" context="{'type':parent.type}" domain="[('type_tax_use','=','purchase'),('company_id', '=', parent.company_id)]"/>
                            <field name="price_subtotal" string="SubTotal" options="{'bg_color': 'yellow:algovamal== True'}"/>
                            <field name="currency_id" invisible="1"/>
                            <field name="asignado" options="{'bg_color': 'yellow:algovamal== True'}"/>
                        </tree>
                        <form>
                            <sheet>
                                <div class="alert alert-info" role="alert" style="margin-bottom:0px;" attrs="{'invisible': [('algovamal','=',False)]}">
                                    <center><bold><h2>Hay algún problema con la Compra y/o diferencias entre COMPRAS y VENTAS</h2></bold> 					</center>
                                </div>
                                <group>
                                    <group>
                                        <field name="diariofactura"  invisible="1"/>
                                        <field name="plantilla"  domain="[('noactivo', '!=', True)]" options="{'no_create': True, 'no_create_edit':True}"/>
                                        <field name="codproducto"/>
                                        <field name="product_id" options="{'no_create': True, 'no_create_edit':True}"/>
                                        <field name="variedad"  required="1" options="{'no_create': True, 'no_create_edit':True}"/>
                                        <field name="calibre"  options="{'no_create': True, 'no_create_edit':True}"/>
                                        <field name="categoria"  options="{'no_create': True, 'no_create_edit':True}"/>
                                        <field name="confeccion"  options="{'no_create': True, 'no_create_edit':True}"/>
                                        <field name="envase"  options="{'no_create': True, 'no_create_edit':True}"/>
                                        <field name="marca"  options="{'no_create': True, 'no_create_edit':True}"/>
                                        <field name="bultos" widget="integer" />
                                        <field name="kgnetbulto"/>
                                        <field name="totalbultos"/>
                                        <field name="obsbultos"/>
                                    </group>
                                    <group>
                                        <field name="id"/>
                                        <field name="expediente" options="{'no_create': True, 'no_create_edit':True}"/>
                                        <field name="cantidadpedido" widget="integer" />
                                        <field name="unidadpedido" options="{'no_create': True, 'no_create_edit':True}"/>
                                        <label for="unidabulto"/>
                                        <div>
                                            <field name="unidabulto" class="oe_inline" options="{'no_create': True, 'no_create_edit':True}"/>
                                            <button name="calcula_cantidad" icon="fa-spinner" type="object" string="" class="oe-inline"/>
                                        </div>
                                        <field name="udfacturacion" string="Ud.Facturación" readonly="1"/>
                                        <field name="quantity"/>
                                        <field name="uom_id" options="{'no_create': True, 'no_create_edit':True}"/>
                                        <field name="account_id" groups="account.group_account_user" domain="[('company_id', '=', parent.company_id), ('internal_type', '=', 'other'), ('deprecated', '=', False)]"/>
                                        <field name="account_analytic_id" groups="analytic.group_analytic_accounting" domain="[('company_id', '=', parent.company_id)]" context="{'default_partner_id': parent.partner_id}"/>
                                        <field name="analytic_tag_ids" groups="analytic.group_analytic_accounting" widget="many2many_tags" options="{'color_field': 'color'}"/>
                                        <field name="price_unit"/>
                                        <field name="discount"/>
                                        <field name="invoice_line_tax_ids" widget="many2many_tags" options="{'no_create': True}" context="{'type':parent.type}" domain="[('type_tax_use','=','sale'),('company_id', '=', parent.company_id)]"/>
                                        <field name="price_subtotal"/>
                                        <field name="ocultaimpresion"/>
                                        <field name="totalkglin"/>
                                        <field name="totalkglinbr"/>
                                        <field name="currency_id" invisible="1"/>
                                    </group>
                                </group>
                                <group>
                                    <field name="name"/>
                                    <label for="lineacompracalidadpartner"/>
                                    <div>
                                        <field name="lineacompracalidadpartner" class="oe_inline"/>
                                        <label for="cabeceraalbarancompra" class="oe_inline" string=" "/>
                                        <field name="cabeceraalbarancompra" class="oe_inline"/>
                                    </div>
                                    <field name="lineacabalbarancompra" readonly="1"/>
                                </group>
                            <notebook>

                    <page string="Linea de Compra">
                    <group><group>
                    <field name="algovamal"/>
                    <field name="lineaalbarancompra" readonly="1"/>
                    <field name="lineacompra" readonly="1"/>
                    <field name="asignado"/>
                    <field name="lineaventa" readonly="1"/>
                    <field name="lineaventaud"/>
                    </group>
                    <group>
                    <field name="bultostotalesalbarancompra" readonly="1"/>
                    <field name="bultostotalespedidocompra" readonly="1"/>


                    <field name="precioplantilla" readonly="1"/>
                    <field name="precioudplantilla" readonly="1"/>


                    </group>

                    </group>
                    </page>
            </xpath>
        </field>
    </record>
</odoo>